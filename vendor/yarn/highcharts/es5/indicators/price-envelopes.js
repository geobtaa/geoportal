/*
 Highstock JS v11.1.0 (2023-06-05)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Pawe Fus

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/price-envelopes",["highcharts","highcharts/modules/stock"],function(k){a(k);a.Highcharts=k;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function k(a,f,d,k){a.hasOwnProperty(f)||(a[f]=k.apply(null,d),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:f,
module:a[f]}})))}a=a?a._modules:{};k(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f){var d=a.seriesTypes.sma.prototype,k=f.defined,p=f.error,q=f.merge,l;(function(a){function r(b){return"plot"+b.charAt(0).toUpperCase()+b.slice(1)}function y(b,e){var h=[];(b.pointArrayMap||[]).forEach(function(b){b!==e&&h.push(r(b))});return h}function c(){var b=this,e=b.linesApiNames,h=b.areaLinesNames,a=b.points,c=b.options,t=b.graph,f={options:{gapSize:c.gapSize}},
g=[],l=y(b,b.pointValKey),v=a.length,u;l.forEach(function(b,e){for(g[e]=[];v--;)u=a[v],g[e].push({x:u.x,plotX:u.plotX,plotY:u[b],isNull:!k(u[b])});v=a.length});if(b.userOptions.fillColor&&h.length){var n=l.indexOf(r(h[0]));n=g[n];h=1===h.length?a:g[l.indexOf(r(h[1]))];l=b.color;b.points=h;b.nextPoints=n;b.color=b.userOptions.fillColor;b.options=q(a,f);b.graph=b.area;b.fillGraph=!0;d.drawGraph.call(b);b.area=b.graph;delete b.nextPoints;delete b.fillGraph;b.color=l}e.forEach(function(e,a){g[a]?(b.points=
g[a],c[e]?b.options=q(c[e].styles,f):p('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),b.graph=b["graph"+e],d.drawGraph.call(b),b["graph"+e]=b.graph):p('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});b.points=a;b.options=c;b.graph=t;d.drawGraph.call(b)}function t(b){var e,a=[];b=b||this.points;if(this.fillGraph&&this.nextPoints){if((e=d.getGraphPath.call(this,
this.nextPoints))&&e.length){e[0][0]="L";a=d.getGraphPath.call(this,b);e=e.slice(0,a.length);for(var c=e.length-1;0<=c;c--)a.push(e[c])}}else a=d.getGraphPath.apply(this,arguments);return a}function g(b){var a=[];(this.pointArrayMap||[]).forEach(function(e){a.push(b[e])});return a}function v(){var b=this,a=this.pointArrayMap,c=[],g;c=y(this);d.translate.apply(this,arguments);this.points.forEach(function(e){a.forEach(function(a,d){g=e[a];b.dataModify&&(g=b.dataModify.modifyValue(g));null!==g&&(e[c[d]]=
b.yAxis.toPixels(g,!0))})})}var l=[],n=["bottomLine"],z=["top","bottom"],A=["top"];a.compose=function(b){if(f.pushUnique(l,b)){var a=b.prototype;a.linesApiNames=a.linesApiNames||n.slice();a.pointArrayMap=a.pointArrayMap||z.slice();a.pointValKey=a.pointValKey||"top";a.areaLinesNames=a.areaLinesNames||A.slice();a.drawGraph=c;a.getGraphPath=t;a.toYData=g;a.translate=v}return b}})(l||(l={}));return l});k(a,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f,d){var k=this&&this.__extends||function(){var a=function(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};return a(d,c)};return function(d,c){function f(){this.constructor=d}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(d,c);
d.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),p=f.seriesTypes.sma,q=d.extend,l=d.isArray,x=d.merge;d=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}k(d,a);d.prototype.init=function(){a.prototype.init.apply(this,arguments);this.options=x({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};d.prototype.getValues=function(c,d){var g=d.period,f=d.topBand,
k=d.bottomBand,n=c.xData,p=(c=c.yData)?c.length:0,q=[],b=[],e=[],h;if(!(n.length<g)&&l(c[0])&&4===c[0].length){for(h=g;h<=p;h++){var w=n.slice(h-g,h);var m=c.slice(h-g,h);m=a.prototype.getValues.call(this,{xData:w,yData:m},d);w=m.xData[0];m=m.yData[0];var r=m*(1+f);var t=m*(1-k);q.push([w,r,m,t]);b.push(w);e.push([r,m,t])}return{values:q,xData:b,yData:e}}};d.defaultOptions=x(p.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},
params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}});return d}(p);q(d.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"});a.compose(d);f.registerSeriesType("priceenvelopes",d);"";
return d});k(a,"masters/indicators/price-envelopes.src.js",[],function(){})});
//# sourceMappingURL=price-envelopes.js.map