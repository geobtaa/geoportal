/*
 Highcharts JS v11.1.0 (2023-06-05)

 Highcharts funnel module

 (c) 2010-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(u){a(u);a.Highcharts=u;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function u(a,b,R,w){a.hasOwnProperty(b)||(a[b]=w.apply(null,R),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:b,module:a[b]}})))}a=a?a._modules:
{};u(a,"Series/Funnel/FunnelSeries.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Extensions/BorderRadius.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b,R,w,g){var I=this&&this.__extends||function(){var a=function(h,f){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(f[d]=a[d])};return a(h,f)};return function(h,f){function H(){this.constructor=h}if("function"!==
typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(h,f);h.prototype=null===f?Object.create(f):(H.prototype=f.prototype,new H)}}(),r=b.noop,M=w.series,J=w.seriesTypes.pie;b=g.addEvent;var N=g.extend,u=g.fireEvent,F=g.isArray,S=g.merge,T=g.pick,V=g.relativeLength;g=function(a){function h(){var f=null!==a&&a.apply(this,arguments)||this;f.data=void 0;f.options=void 0;f.points=void 0;return f}I(h,a);h.prototype.alignDataLabel=function(f,a,d,h,l){var A=
f.series;h=A.options.reversed;var n=f.dlBox||f.shapeArgs,g=d.align,r=d.verticalAlign,H=((A.options||{}).dataLabels||{}).inside,b=A.center[1];A=A.getWidthAt((h?2*b-f.plotY:f.plotY)-n.height/2+a.height);A="middle"===r?(n.topWidth-n.bottomWidth)/4:(A-n.bottomWidth)/2;b=n.y;var t=n.x,x=T(a.height,a.getBBox().height);"middle"===r?b=n.y-n.height/2+x/2:"top"===r&&(b=n.y-n.height+x+d.padding);if("top"===r&&!h||"bottom"===r&&h||"middle"===r)"right"===g?t=n.x-d.padding+A:"left"===g&&(t=n.x+d.padding-A);h={x:t,
y:h?b-n.height:b,width:n.bottomWidth,height:n.height};d.verticalAlign="bottom";H&&!f.visible||M.prototype.alignDataLabel.call(this,f,a,d,h,l);H&&(!f.visible&&f.dataLabel&&(f.dataLabel.placed=!1),f.contrastColor&&a.css({color:f.contrastColor}))};h.prototype.drawDataLabels=function(){var a=this.data,h=this.options.dataLabels.distance,d,r=a.length;for(this.center[2]-=2*h;r--;){var l=a[r];var b=(d=l.half)?1:-1;var n=l.plotY;l.labelDistance=T(l.options.dataLabels&&l.options.dataLabels.distance,h);this.maxLabelDistance=
Math.max(l.labelDistance,this.maxLabelDistance||0);var g=this.getX(n,d,l);l.labelPosition={natural:{x:0,y:n},computed:{},alignment:d?"right":"left",connectorPosition:{breakAt:{x:g+(l.labelDistance-5)*b,y:n},touchingSliceAt:{x:g+l.labelDistance*b,y:n}}}}w.seriesTypes[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)};h.prototype.translate=function(){function a(a,c){return/%$/.test(a)?c*parseInt(a,10)/100:parseInt(a,10)}var h=0,d=this,b=d.chart,l=d.options,g=l.reversed,
n=l.ignoreHiddenPoint,M=R.optionsToObject(l.borderRadius),I=b.plotWidth;b=b.plotHeight;var J=0,w=l.center,t=a(w[0],I),x=a(w[1],b),N=a(l.width,I),B,C=a(l.height,b),G=a(l.neckWidth,I),F=a(l.neckHeight,b),K=x-C/2+C-F,O=d.data,v,P,U=V(M.radius,N),Q=M.scope,D,E,L=function(a){var c=Math.tan(a/2),e=Math.cos(D),h=Math.sin(D),f=U,d=f/c;a=Math.tan((Math.PI-a)/3.2104);d>E&&(d=E,f=d*c);a*=f;return{dx:[d*e,(d-a)*e,d-a,d],dy:[d*h,(d-a)*h,d-a,d].map(function(a){return g?-a:a})}},S="left"===l.dataLabels.position?
1:0,y,p,z,k,e,q,m;d.getWidthAt=function(a){var c=x-C/2;return a>K||C===F?G:G+(N-G)*(1-(a-c)/(C-F))};d.getX=function(a,c,e){return t+(c?-1:1)*(d.getWidthAt(g?2*x-a:a)/2+e.labelDistance)};d.center=[t,x,C];d.centerX=t;O.forEach(function(a){!a.y||!a.isValid()||n&&!1===a.visible||(h+=a.y)});O.forEach(function(a){m=null;P=h?a.y/h:0;p=x-C/2+J*C;e=p+P*C;B=d.getWidthAt(p);y=t-B/2;z=y+B;B=d.getWidthAt(e);k=t-B/2;q=k+B;p>K?(y=k=t-G/2,z=q=t+G/2):e>K&&(m=e,B=d.getWidthAt(K),k=t-B/2,q=k+B,e=K);g&&(p=2*x-p,e=2*
x-e,null!==m&&(m=2*x-m));if(!U||"point"!==Q&&0!==a.index&&a.index!==O.length-1&&null===m)v=[["M",y,p],["L",z,p],["L",q,e]],null!==m&&v.push(["L",q,m],["L",k,m]),v.push(["L",k,e]);else{var c=Math.abs(e-p),f=z-q,b=q-k,l=Math.sqrt(f*f+c*c);D=Math.atan(c/f);E=l/2;null!==m&&(E=Math.min(E,Math.abs(m-e)/2));1<=b&&(E=Math.min(E,b/2));c=L(D);v="stack"===Q&&0!==a.index?[["M",y,p],["L",z,p]]:[["M",y+c.dx[0],p+c.dy[0]],["C",y+c.dx[1],p+c.dy[1],y+c.dx[2],p,y+c.dx[3],p],["L",z-c.dx[3],p],["C",z-c.dx[2],p,z-c.dx[1],
p+c.dy[1],z-c.dx[0],p+c.dy[0]]];null!==m?(b=L(Math.PI/2),c=L(Math.PI/2+D),v.push(["L",q+c.dx[0],e-c.dy[0]],["C",q+c.dx[1],e-c.dy[1],q,e+c.dy[2],q,e+c.dy[3]]),"stack"===Q&&a.index!==O.length-1?v.push(["L",q,m],["L",k,m]):v.push(["L",q,m-b.dy[3]],["C",q,m-b.dy[2],q-b.dx[2],m,q-b.dx[3],m],["L",k+b.dx[3],m],["C",k+b.dx[2],m,k,m-b.dy[2],k,m-b.dy[3]]),v.push(["L",k,e+c.dy[3]],["C",k,e+c.dy[2],k-c.dx[1],e-c.dy[1],k-c.dx[0],e-c.dy[0]])):1<=b?(c=L(Math.PI-D),"stack"===Q&&0===a.index?v.push(["L",q,e],["L",
k,e]):v.push(["L",q+c.dx[0],e-c.dy[0]],["C",q+c.dx[1],e-c.dy[1],q-c.dx[2],e,q-c.dx[3],e],["L",k+c.dx[3],e],["C",k+c.dx[2],e,k-c.dx[1],e-c.dy[1],k-c.dx[0],e-c.dy[0]])):(c=L(Math.PI-2*D),v.push(["L",k+c.dx[0],e-c.dy[0]],["C",k+c.dx[1],e-c.dy[1],k-c.dx[1],e-c.dy[1],k-c.dx[0],e-c.dy[0]]))}v.push(["Z"]);a.shapeType="path";a.shapeArgs={d:v};a.percentage=100*P;a.plotX=t;a.plotY=(p+(m||e))/2;a.tooltipPos=[t,a.plotY];a.dlBox={x:k,y:p,topWidth:z-y,bottomWidth:q-k,height:Math.abs(T(m,e)-p),width:NaN};a.slice=
r;a.half=S;!a.isValid()||n&&!1===a.visible||(J+=P)});u(d,"afterTranslate")};h.prototype.sortByAngle=function(a){a.sort(function(a,d){return a.plotY-d.plotY})};h.defaultOptions=S(J.defaultOptions,{animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}});return h}(J);N(g.prototype,{animate:r});b(a,"afterHideAllOverlappingLabels",
function(){this.series.forEach(function(a){var b=a.options&&a.options.dataLabels;F(b)&&(b=b[0]);a.is("pie")&&a.placeDataLabels&&b&&!b.inside&&a.placeDataLabels()})});w.registerSeriesType("funnel",g);"";return g});u(a,"Series/Pyramid/PyramidSeries.js",[a["Series/Funnel/FunnelSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b,u){var w=this&&this.__extends||function(){var a=function(b,g){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])};return a(b,g)};return function(b,g){function r(){this.constructor=b}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");a(b,g);b.prototype=null===g?Object.create(g):(r.prototype=g.prototype,new r)}}(),g=u.merge;u=function(b){function r(){var a=null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}w(r,
b);r.defaultOptions=g(a.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0});return r}(a);b.registerSeriesType("pyramid",u);"";return u});u(a,"masters/modules/funnel.src.js",[],function(){})});
//# sourceMappingURL=funnel.js.map