/*
 Highmaps JS v11.1.0 (2023-06-05)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(z){c(z);c.Highcharts=z;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function z(c,h,q,n){c.hasOwnProperty(h)||(c[h]=n.apply(null,q),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:c[h]}})))}c=c?c._modules:
{};z(c,"Core/Axis/Color/ColorAxisComposition.js",[c["Core/Color/Color.js"],c["Core/Utilities.js"]],function(c,h){var q=c.parse,n=h.addEvent,p=h.extend,g=h.merge,d=h.pick,y=h.splat,v;(function(r){function k(){var a=this,e=this.options;this.colorAxis=[];e.colorAxis&&(e.colorAxis=y(e.colorAxis),e.colorAxis.forEach(function(e){new t(a,e)}))}function b(a){var e=this,m=function(w){w=a.allItems.indexOf(w);-1!==w&&(e.destroyItem(a.allItems[w]),a.allItems.splice(w,1))},b=[],w,f;(this.chart.colorAxis||[]).forEach(function(a){(w=
a.options)&&w.showInLegend&&(w.dataClasses&&w.visible?b=b.concat(a.getDataClassLegendSymbols()):w.visible&&b.push(a),a.series.forEach(function(a){if(!a.options.showInLegend||w.dataClasses)"point"===a.options.legendType?a.points.forEach(function(w){m(w)}):m(a)}))});for(f=b.length;f--;)a.allItems.unshift(b[f])}function a(a){a.visible&&a.item.legendColor&&a.item.legendItem.symbol.attr({fill:a.item.legendColor})}function e(){var a=this.chart.colorAxis;a&&a.forEach(function(a,e,m){a.update({},m)})}function l(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function u(){var a=this.axisTypes;a?-1===a.indexOf("colorAxis")&&a.push("colorAxis"):this.axisTypes=["colorAxis"]}function f(a){var e=this,m=a?"show":"hide";e.visible=e.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(e[a])e[a][m]()});this.series.buildKDTree()}function x(){var a=this,e=this.options.nullColor,m=this.colorAxis,b=this.colorKey;(this.data.length?this.data:this.points).forEach(function(w){var f=w.getNestedProperty(b);
(f=w.options.color||(w.isNull||null===w.value?e:m&&"undefined"!==typeof f?m.toColor(f,w):w.color||a.color))&&w.color!==f&&(w.color=f,"point"===a.options.legendType&&w.legendItem&&w.legendItem.label&&a.chart.legend.colorizeItem(w,w.visible))})}function m(a){var e=a.prototype.createAxis;a.prototype.createAxis=function(a,m){if("colorAxis"!==a)return e.apply(this,arguments);var w=new t(this,g(m.axis,{index:this[a].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(a){a.series=[]});this.series.forEach(function(a){a.bindAxes();
a.isDirtyData=!0});d(m.redraw,!0)&&this.redraw(m.animation);return w}}function G(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function A(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var C=[],t;r.compose=function(B,d,r,v,w){t||(t=B);h.pushUnique(C,d)&&(B=d.prototype,B.collectionsWithUpdate.push("colorAxis"),B.collectionsWithInit.colorAxis=[B.addColorAxis],n(d,"afterGetAxes",k),m(d));h.pushUnique(C,r)&&(d=r.prototype,d.fillSetter=
G,d.strokeSetter=A);h.pushUnique(C,v)&&(n(v,"afterGetAllItems",b),n(v,"afterColorizeItem",a),n(v,"afterUpdate",e));h.pushUnique(C,w)&&(p(w.prototype,{optionalAxis:"colorAxis",translateColors:x}),p(w.prototype.pointClass.prototype,{setVisible:f}),n(w,"afterTranslate",l,{order:1}),n(w,"bindAxes",u))};r.pointSetVisible=f})(v||(v={}));return v});z(c,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}});z(c,"Core/Axis/Color/ColorAxis.js",[c["Core/Axis/Axis.js"],c["Core/Color/Color.js"],c["Core/Axis/Color/ColorAxisComposition.js"],c["Core/Axis/Color/ColorAxisDefaults.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q,n,p,g,d){var y=
this&&this.__extends||function(){var a=function(e,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(a[m]=e[m])};return a(e,b)};return function(e,b){function m(){this.constructor=e}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(e,b);e.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}(),v=h.parse,
r=g.series,k=d.extend,b=d.isArray,a=d.isNumber,e=d.merge,l=d.pick;h=function(u){function f(a,e){var b=u.call(this,a,e)||this;b.beforePadding=!1;b.chart=void 0;b.coll="colorAxis";b.dataClasses=void 0;b.options=void 0;b.stops=void 0;b.visible=!0;b.init(a,e);return b}y(f,u);f.compose=function(a,e,b,l){q.compose(f,a,e,b,l)};f.prototype.init=function(a,m){var l=a.options.legend||{},x=m.layout?"vertical"!==m.layout:"vertical"!==l.layout,d=m.visible;l=e(f.defaultColorAxisOptions,m,{showEmpty:!1,title:null,
visible:l.enabled&&!1!==d});this.side=m.side||x?2:1;this.reversed=m.reversed||!x;this.opposite=!x;u.prototype.init.call(this,a,l,"colorAxis");this.userOptions=m;b(a.userOptions.colorAxis)&&(a.userOptions.colorAxis[this.index]=m);m.dataClasses&&this.initDataClasses(m);this.initStops();this.horiz=x;this.zoomEnabled=!1};f.prototype.initDataClasses=function(a){var b=this.chart,f=this.legendItem=this.legendItem||{},l=a.dataClasses.length,u=this.options,t,x=0,d=b.options.chart.colorCount;this.dataClasses=
t=[];f.labels=[];(a.dataClasses||[]).forEach(function(a,m){a=e(a);t.push(a);if(b.styledMode||!a.color)"category"===u.dataClassColor?(b.styledMode||(m=b.options.colors,d=m.length,a.color=m[x]),a.colorIndex=x,x++,x===d&&(x=0)):a.color=v(u.minColor).tweenTo(v(u.maxColor),2>l?.5:m/(l-1))})};f.prototype.hasData=function(){return!!(this.tickPositions||[]).length};f.prototype.setTickPositions=function(){if(!this.dataClasses)return u.prototype.setTickPositions.call(this)};f.prototype.initStops=function(){this.stops=
this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=v(a[1])})};f.prototype.setOptions=function(a){u.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker};f.prototype.setAxisSize=function(){var a=this.legendItem&&this.legendItem.symbol,e=this.chart,b=e.options.legend||{},l,u;a?(this.left=b=a.attr("x"),this.top=l=a.attr("y"),this.width=u=a.attr("width"),this.height=a=a.attr("height"),this.right=e.chartWidth-b-u,this.bottom=
e.chartHeight-l-a,this.len=this.horiz?u:a,this.pos=this.horiz?b:l):this.len=(this.horiz?b.symbolWidth:b.symbolHeight)||f.defaultLegendLength};f.prototype.normalizedValue=function(a){this.logarithmic&&(a=this.logarithmic.log2lin(a));return 1-(this.max-a)/(this.max-this.min||1)};f.prototype.toColor=function(a,e){var b=this.dataClasses,m=this.stops,l;if(b)for(l=b.length;l--;){var f=b[l];var u=f.from;m=f.to;if(("undefined"===typeof u||a>=u)&&("undefined"===typeof m||a<=m)){var x=f.color;e&&(e.dataClass=
l,e.colorIndex=f.colorIndex);break}}else{a=this.normalizedValue(a);for(l=m.length;l--&&!(a>m[l][0]););u=m[l]||m[l+1];m=m[l+1]||u;a=1-(m[0]-a)/(m[0]-u[0]||1);x=u.color.tweenTo(m.color,a)}return x};f.prototype.getOffset=function(){var a=this.legendItem&&this.legendItem.group,e=this.chart.axisOffset[this.side];if(a){this.axisParent=a;u.prototype.getOffset.call(this);var b=this.chart.legend;b.allItems.forEach(function(a){a instanceof f&&a.drawLegendSymbol(b,a)});b.render();this.chart.getMargins(!0);this.added||
(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=e}};f.prototype.setLegendColor=function(){var a=this.reversed,e=a?1:0;a=a?0:1;e=this.horiz?[e,0,a,0]:[0,a,0,e];this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:this.stops}};f.prototype.drawLegendSymbol=function(a,e){var b;e=e.legendItem||{};var m=a.padding,u=a.options,t=this.options.labels,d=l(u.itemDistance,10),x=this.horiz,k=l(u.symbolWidth,x?f.defaultLegendLength:12),r=l(u.symbolHeight,
x?12:f.defaultLegendLength),w=l(u.labelPadding,x?16:30);this.setLegendColor();e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect",0,a.baseline-11,k,r,{r:null!==(b=u.symbolRadius)&&void 0!==b?b:3}).attr({zIndex:1}).add(e.group));e.labelWidth=k+m+(x?d:l(t.x,t.distance)+this.maxLabelLength);e.labelHeight=r+m+(x?w:0)};f.prototype.setState=function(a){this.series.forEach(function(e){e.setState(a)})};f.prototype.setVisible=function(){};f.prototype.getSeriesExtremes=function(){var a=this.series,
e=a.length,b;this.dataMin=Infinity;for(this.dataMax=-Infinity;e--;){var f=a[e];var u=f.colorKey=l(f.options.colorKey,f.colorKey,f.pointValKey,f.zoneAxis,"y");var t=f.pointArrayMap;var d=f[u+"Min"]&&f[u+"Max"];if(f[u+"Data"])var k=f[u+"Data"];else if(t){k=[];t=t.indexOf(u);var v=f.yData;if(0<=t&&v)for(b=0;b<v.length;b++)k.push(l(v[b][t],v[b]))}else k=f.yData;d?(f.minColorValue=f[u+"Min"],f.maxColorValue=f[u+"Max"]):(k=r.prototype.getExtremes.call(f,k),f.minColorValue=k.dataMin,f.maxColorValue=k.dataMax);
"undefined"!==typeof f.minColorValue&&(this.dataMin=Math.min(this.dataMin,f.minColorValue),this.dataMax=Math.max(this.dataMax,f.maxColorValue));d||r.prototype.applyExtremes.call(f)}};f.prototype.drawCrosshair=function(a,e){var b=this.legendItem||{},f=e&&e.plotX,l=e&&e.plotY,m=this.pos,d=this.len;if(e){var k=this.toPixels(e.getNestedProperty(e.series.colorKey));k<m?k=m-2:k>m+d&&(k=m+d+2);e.plotX=k;e.plotY=this.len-k;u.prototype.drawCrosshair.call(this,a,e);e.plotX=f;e.plotY=l;this.cross&&!this.cross.addedToColorAxis&&
b.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(b.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};f.prototype.getPlotLinePath=function(e){var b=this.left,f=e.translatedValue,l=this.top;return a(f)?this.horiz?[["M",f-4,l-6],["L",f+4,l-6],["L",f,l],["Z"]]:[["M",b,f],["L",b-6,f+6],["L",b-6,f-6],["Z"]]:u.prototype.getPlotLinePath.call(this,e)};f.prototype.update=function(a,e){var b=this.chart.legend;
this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&b.allItems||this.dataClasses)&&this.destroyItems();u.prototype.update.call(this,a,e);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),b.colorizeItem(this,!0))};f.prototype.destroyItems=function(){var a=this.chart,e=this.legendItem||{};if(e.label)a.legend.destroyItem(this);else if(e.labels){var b=0;for(e=e.labels;b<e.length;b++)a.legend.destroyItem(e[b])}a.isDirtyLegend=!0};f.prototype.destroy=function(){this.chart.isDirtyLegend=
!0;this.destroyItems();u.prototype.destroy.apply(this,[].slice.call(arguments))};f.prototype.remove=function(a){this.destroyItems();u.prototype.remove.call(this,a)};f.prototype.getDataClassLegendSymbols=function(){var a=this,e=a.chart,b=a.legendItem&&a.legendItem.labels||[],f=e.options.legend,u=l(f.valueDecimals,-1),t=l(f.valueSuffix,""),d=function(e){return a.series.reduce(function(a,b){a.push.apply(a,b.points.filter(function(a){return a.dataClass===e}));return a},[])},r;b.length||a.dataClasses.forEach(function(f,
l){var w=f.from,m=f.to,O=e.numberFormatter,K=!0;r="";"undefined"===typeof w?r="< ":"undefined"===typeof m&&(r="> ");"undefined"!==typeof w&&(r+=O(w,u)+t);"undefined"!==typeof w&&"undefined"!==typeof m&&(r+=" - ");"undefined"!==typeof m&&(r+=O(m,u)+t);b.push(k({chart:e,name:r,options:{},drawLegendSymbol:p.rectangle,visible:!0,isDataClass:!0,setState:function(a){for(var e=0,b=d(l);e<b.length;e++)b[e].setState(a)},setVisible:function(){this.visible=K=a.visible=!K;for(var b=0,w=d(l);b<w.length;b++)w[b].setVisible(K);
e.legend.colorizeItem(this,K)}},f))});return b};f.defaultColorAxisOptions=n;f.defaultLegendLength=200;f.keepProps=["legendItem"];return f}(c);Array.prototype.push.apply(c.keepProps,h.keepProps);"";return h});z(c,"Maps/MapNavigationDefaults.js",[c["Core/Defaults.js"],c["Core/Utilities.js"]],function(c,h){h=h.extend;var q={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",
stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};h(c.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return c.defaultOptions.mapNavigation=q});z(c,"Maps/MapNavigation.js",[c["Core/Chart/Chart.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,h,q){function n(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)}function p(a){this.navButtons=[];this.init(a)}var g=h.doc,d=q.addEvent,y=q.extend,v=q.isNumber,r=q.merge,k=q.objectEach,b=q.pick;p.prototype.init=function(a){this.chart=a};p.prototype.update=function(a){var e=this,l=this.chart,u=l.options.mapNavigation,f,v=function(a){this.handler.call(l,a);n(a)},m=e.navButtons;a&&(u=l.options.mapNavigation=r(l.options.mapNavigation,a));for(;m.length;)m.pop().destroy();b(u.enableButtons,u.enabled)&&!l.renderer.forExport&&(e.navButtonsGroup||
(e.navButtonsGroup=l.renderer.g().attr({zIndex:4}).add()),k(u.buttons,function(a,b){var k;a=r(u.buttonOptions,a);!l.styledMode&&a.theme&&(f=a.theme,f.style=r(a.theme.style,a.style));var t=a.text,x=a.width,p=void 0===x?0:x;x=a.height;x=void 0===x?0:x;var g=a.padding;g=void 0===g?0:g;var c=l.renderer.button("+"!==t&&"-"!==t&&t||"",0,0,v,f,void 0,void 0,void 0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[b]).attr({width:p,
height:x,title:l.options.lang[b],padding:a.padding,zIndex:5}).add(e.navButtonsGroup);if("+"===t||"-"===t)b=p+1,p=[["M",g+3,g+x/2],["L",g+b-3,g+x/2]],"+"===t&&p.push(["M",g+b/2,g+3],["L",g+b/2,g+x-3]),l.renderer.path(p).addClass("highcharts-button-symbol").attr(l.styledMode?{}:{stroke:null===(k=a.style)||void 0===k?void 0:k.color,"stroke-width":3,"stroke-linecap":"round"}).add(c);c.handler=a.onclick;d(c.element,"dblclick",n);m.push(c);y(a,{width:c.width,height:2*c.height});if(l.hasLoaded)c.align(a,
!1,a.alignTo);else var w=d(l,"load",function(){c.element&&c.align(a,!1,a.alignTo);w()})}),a=function(){var a=l.exportingGroup&&l.exportingGroup.getBBox();if(a){var b=e.navButtonsGroup.getBBox();if(!(b.x>=a.x+a.width||b.x+b.width<=a.x||b.y>=a.y+a.height||b.y+b.height<=a.y)){var f=-b.y-b.height+a.y-5;a=a.y+a.height-b.y+5;e.navButtonsGroup.attr({translateY:"bottom"===(u.buttonOptions&&u.buttonOptions.verticalAlign)?f:a})}}},l.hasLoaded||d(l,"render",a));this.updateEvents(u)};p.prototype.updateEvents=
function(a){var e=this.chart;b(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||d(e.container,"dblclick",function(a){e.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());b(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||d(e.container,void 0!==g.onwheel?"wheel":void 0!==g.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){e.pointer.inClass(a.target,"highcharts-no-mousewheel")||
(e.pointer.onContainerMouseWheel(a),n(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};y(c.prototype,{fitToBox:function(a,e){[["x","width"],["y","height"]].forEach(function(b){var l=b[0];b=b[1];a[l]+a[b]>e[l]+e[b]&&(a[b]>e[b]?(a[b]=e[b],a[l]=e[l]):a[l]=e[l]+e[b]-a[b]);a[b]>e[b]&&(a[b]=e[b]);a[l]<e[l]&&(a[l]=e[l])});return a},mapZoom:function(a,b,l,u,f){this.mapView&&(v(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,v(b)&&v(l)?this.mapView.projection.inverse([b,
l]):void 0,v(u)&&v(f)?[u,f]:void 0))}});d(c,"beforeRender",function(){this.mapNavigation=new p(this);this.mapNavigation.update()});h.MapNavigation=p});z(c,"Maps/MapPointer.js",[c["Core/Pointer.js"],c["Core/Utilities.js"]],function(c,h){var q=h.defined,n=h.extend,p=h.pick;h=h.wrap;var g=c.prototype.normalize,d=0,y;n(c.prototype,{normalize:function(d,r){var k=this.chart;d=g.call(this,d,r);k&&k.mapView&&(r=k.mapView.pixelsToLonLat({x:d.chartX-k.plotLeft,y:d.chartY-k.plotTop}))&&n(d,r);return d},onContainerDblClick:function(d){var r=
this.chart;d=this.normalize(d);r.options.mapNavigation.enableDoubleClickZoomTo?r.pointer.inClass(d.target,"highcharts-tracker")&&r.hoverPoint&&r.hoverPoint.zoomTo():r.isInsidePlot(d.chartX-r.plotLeft,d.chartY-r.plotTop)&&r.mapZoom(.5,void 0,void 0,d.chartX,d.chartY)},onContainerMouseWheel:function(c){var r=this.chart;c=this.normalize(c);var k=q(c.wheelDelta)&&-c.wheelDelta/120||c.deltaY||c.detail;1<=Math.abs(k)&&(d+=Math.abs(k),y&&clearTimeout(y),y=setTimeout(function(){d=0},50));10>d&&r.isInsidePlot(c.chartX-
r.plotLeft,c.chartY-r.plotTop)&&r.mapView&&r.mapView.zoomBy((r.options.mapNavigation.mouseWheelSensitivity-1)*-k,void 0,[c.chartX,c.chartY],1>Math.abs(k)?!1:void 0)}});h(c.prototype,"zoomOption",function(d){var r=this.chart.options.mapNavigation;p(r.enableTouchZoom,r.enabled)&&(this.chart.zooming.pinchType="xy");d.apply(this,[].slice.call(arguments,1))});h(c.prototype,"pinchTranslate",function(d,r,k,b,a,e,l){d.call(this,r,k,b,a,e,l);"map"===this.chart.options.chart.type&&this.hasZoom&&(d=b.scaleX>
b.scaleY,this.pinchTranslateDirection(!d,r,k,b,a,e,l,d?b.scaleX:b.scaleY))})});z(c,"Series/ColorMapComposition.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h){var q=c.seriesTypes.column.prototype,n=h.addEvent,p=h.defined,g;(function(d){function c(d){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:d&&"hover"===d.state?1:0})}var g=[];d.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&
-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};d.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(d){var k={};!p(d.color)||d.state&&"normal"!==d.state||(k[this.colorProp||"fill"]=d.color);return k},pointAttribs:q.pointAttribs};d.compose=function(d){var k=d.prototype.pointClass;h.pushUnique(g,k)&&n(k,"afterSetState",c);return d}})(g||
(g={}));return g});z(c,"Maps/MapSymbols.js",[c["Core/Renderer/SVG/SVGRenderer.js"]],function(c){var h=c.prototype.symbols;h.bottombutton=function(c,n,p,g,d){if(d){var q=(null===d||void 0===d?void 0:d.r)||0;d.brBoxY=n-q;d.brBoxHeight=g+q}return h.roundedRect(c,n,p,g,d)};h.topbutton=function(c,n,p,g,d){d&&(d.brBoxHeight=g+((null===d||void 0===d?void 0:d.r)||0));return h.roundedRect(c,n,p,g,d)};return h});z(c,"Core/Chart/MapChart.js",[c["Core/Chart/Chart.js"],c["Core/Defaults.js"],c["Core/Renderer/SVG/SVGRenderer.js"],
c["Core/Utilities.js"]],function(c,h,q,n){var p=this&&this.__extends||function(){var d=function(c,k){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e])};return d(c,k)};return function(c,k){function b(){this.constructor=c}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");d(c,k);c.prototype=null===k?Object.create(k):
(b.prototype=k.prototype,new b)}}(),g=h.getOptions,d=n.merge,y=n.pick;c=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}p(r,c);r.prototype.init=function(k,b){var a=g().credits;k=d({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:y(a.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:y(a.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},k);c.prototype.init.call(this,k,b)};return r}(c);(function(d){d.maps=
{};d.mapChart=function(c,k,b){return new d(c,k,b)};d.splitPath=function(d){"string"===typeof d&&(d=d.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),d=d.split(/[ ,;]+/).map(function(d){return/[A-za-z]/.test(d)?d:parseFloat(d)}));return q.prototype.pathToSegments(d)}})(c||(c={}));return c});z(c,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(c){var h=-Number.MAX_VALUE,q=Number.MAX_VALUE,n=-Number.MAX_VALUE,p=Number.MAX_VALUE,g;c.forEach(function(d){var c=d[d.length-
2];d=d[d.length-1];"number"===typeof c&&"number"===typeof d&&(q=Math.min(q,c),h=Math.max(h,c),p=Math.min(p,d),n=Math.max(n,d),g=!0)});if(g)return{x1:q,y1:p,x2:h,y2:n}},pointInPolygon:function(c,h){var q,n=!1,p=c.x,g=c.y;c=0;for(q=h.length-1;c<h.length;q=c++){var d=h[c][1]>g;var y=h[q][1]>g;d!==y&&p<(h[q][0]-h[c][0])*(g-h[c][1])/(h[q][1]-h[c][1])+h[c][0]&&(n=!n)}return n}}});z(c,"Series/Map/MapPoint.js",[c["Series/ColorMapComposition.js"],c["Maps/MapUtilities.js"],c["Core/Series/SeriesRegistry.js"],
c["Core/Utilities.js"]],function(c,h,q,n){var p=this&&this.__extends||function(){var d=function(c,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])};return d(c,b)};return function(c,b){function a(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");d(c,b);c.prototype=null===b?Object.create(b):
(a.prototype=b.prototype,new a)}}(),g=h.boundsFromPath,d=n.extend,y=n.isNumber,v=n.pick;h=function(c){function k(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.path=void 0;b.series=void 0;return b}p(k,c);k.getProjectedPath=function(b,a){b.projectedPath||(a&&b.geometry?(a.hasCoordinates=!0,b.projectedPath=a.path(b.geometry)):b.projectedPath=b.path);return b.projectedPath||[]};k.prototype.applyOptions=function(b,a){var e=this.series;b=c.prototype.applyOptions.call(this,b,a);a=e.joinBy;
e.mapData&&e.mapMap&&(a=c.prototype.getNestedProperty.call(b,a[1]),(a="undefined"!==typeof a&&e.mapMap[a])?d(b,a):-1!==e.pointArrayMap.indexOf("value")&&(b.value=b.value||null));return b};k.prototype.getProjectedBounds=function(b){var a=k.getProjectedPath(this,b);a=g(a);var e=this.properties,d=this.series.chart.mapView;if(a){var c=e&&e["hc-middle-lon"],f=e&&e["hc-middle-lat"];d&&y(c)&&y(f)?(b=b.forward([c,f]),a.midX=b[0],a.midY=b[1]):(b=e&&e["hc-middle-x"],e=e&&e["hc-middle-y"],a.midX=a.x1+(a.x2-
a.x1)*v(this.middleX,y(b)?b:.5),b=v(this.middleY,y(e)?e:.5),this.geometry||(b=1-b),a.midY=a.y2-(a.y2-a.y1)*b);return a}};k.prototype.onMouseOver=function(b){n.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)c.prototype.onMouseOver.call(this,b);else this.series.onMouseOut(b)};k.prototype.setVisible=function(b){var a=b?"show":"hide";this.visible=this.options.visible=!!b;if(this.dataLabel)this.dataLabel[a]();this.graphic&&this.graphic.attr(this.series.pointAttribs(this))};
k.prototype.zoomTo=function(b){var a=this.series.chart,e=a.mapView,d=this.bounds;if(e&&d){var c=y(this.insetIndex)&&e.insets[this.insetIndex];if(c){var f=c.projectedUnitsToPixels({x:d.x1,y:d.y1});d=c.projectedUnitsToPixels({x:d.x2,y:d.y2});f=e.pixelsToProjectedUnits({x:f.x,y:f.y});d=e.pixelsToProjectedUnits({x:d.x,y:d.y});d={x1:f.x,y1:f.y,x2:d.x,y2:d.y}}e.fitToBounds(d,void 0,!1);this.series.isDirty=!0;a.redraw(b)}};return k}(q.seriesTypes.scatter.prototype.pointClass);d(h.prototype,{dataLabelOnNull:c.pointMembers.dataLabelOnNull,
moveToTopOnHover:c.pointMembers.moveToTopOnHover,isValid:c.pointMembers.isValid});return h});z(c,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});z(c,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});z(c,"Extensions/GeoJSON.js",[c["Core/Chart/Chart.js"],
c["Core/Templating.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,h,q,n){function p(b,a){a||(a=Object.keys(b.objects)[0]);a=b.objects[a];if(a["hc-decoded-geojson"])return a["hc-decoded-geojson"];var e=b.arcs;if(b.transform){var d=b.transform,c=d.scale,f=d.translate;e=b.arcs.map(function(a){var b=0,e=0;return a.map(function(a){a=a.slice();a[0]=(b+=a[0])*c[0]+f[0];a[1]=(e+=a[1])*c[1]+f[1];return a})})}var k=function(a){return"number"===typeof a[0]?a.reduce(function(a,b,f){var d=0>b?e[~b]:
e[b];0>b?(d=d.slice(0,0===f?d.length:d.length-1),d.reverse()):f&&(d=d.slice(1));return a.concat(d)},[]):a.map(k)};d=a.geometries.map(function(a){return{type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||k(a.arcs)}}});b={type:"FeatureCollection",copyright:b.copyright,copyrightShort:b.copyrightShort,copyrightUrl:b.copyrightUrl,features:d,"hc-recommended-mapview":a["hc-recommended-mapview"],bbox:b.bbox,title:b.title};return a["hc-decoded-geojson"]=b}function g(b,
a,e){void 0===a&&(a="map");var c=[];b="Topology"===b.type?p(b):b;b.features.forEach(function(b){var e=b.geometry||{},d=e.type;e=e.coordinates;b=b.properties;var l;"map"!==a&&"mapbubble"!==a||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==a||"LineString"!==d&&"MultiLineString"!==d?"mappoint"===a&&"Point"===d&&e.length&&(l={geometry:{coordinates:e,type:d}}):e.length&&(l={geometry:{coordinates:e,type:d}}):e.length&&(l={geometry:{coordinates:e,type:d}});if(l){d=b&&(b.name||b.NAME);e=b&&b.lon;var u=b&&
b.lat;c.push(r(l,{lat:"number"===typeof u?u:void 0,lon:"number"===typeof e?e:void 0,name:"string"===typeof d?d:void 0,properties:b}))}});e&&b.copyrightShort&&(e.chart.mapCredits=d(e.chart.options.credits.mapText,{geojson:b}),e.chart.mapCreditsFull=d(e.chart.options.credits.mapTextFull,{geojson:b}));return c}var d=h.format,y=q.win,v=n.error,r=n.extend,k=n.merge;h=n.wrap;"";c.prototype.transformFromLatLon=function(b,a){var e=this.options.chart.proj4||y.proj4;if(e){var d=a.jsonmarginX;d=void 0===d?0:
d;var c=a.jsonmarginY;c=void 0===c?0:c;var f=a.jsonres;f=void 0===f?1:f;var k=a.scale;k=void 0===k?1:k;var m=a.xoffset;m=void 0===m?0:m;var g=a.xpan;g=void 0===g?0:g;var p=a.yoffset;p=void 0===p?0:p;var r=a.ypan;r=void 0===r?0:r;b=e(a.crs,[b.lon,b.lat]);e=a.cosAngle||a.rotation&&Math.cos(a.rotation);var t=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=a.rotation?[b[0]*e+b[1]*t,-b[0]*t+b[1]*e]:b;return{x:((a[0]-m)*k+g)*f+d,y:-(((p-a[1])*k+r)*f-c)}}v(21,!1,this)};c.prototype.transformToLatLon=function(b,
a){var e=this.options.chart.proj4||y.proj4;if(!e)v(21,!1,this);else if(null!==b.y){var d=a.jsonmarginX,c=a.jsonmarginY,f=a.jsonres;f=void 0===f?1:f;var k=a.scale;k=void 0===k?1:k;var m=a.xoffset,g=a.xpan,p=a.yoffset,r=a.ypan;b={x:((b.x-(void 0===d?0:d))/f-(void 0===g?0:g))/k+(void 0===m?0:m),y:((b.y-(void 0===c?0:c))/f+(void 0===r?0:r))/k+(void 0===p?0:p)};d=a.cosAngle||a.rotation&&Math.cos(a.rotation);c=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=e(a.crs,"WGS84",a.rotation?{x:b.x*d+b.y*-c,y:b.x*
c+b.y*d}:b);return{lat:a.y,lon:a.x}}};c.prototype.fromPointToLatLon=function(b){return this.mapView&&this.mapView.projectedUnitsToLonLat(b)};c.prototype.fromLatLonToPoint=function(b){return this.mapView&&this.mapView.lonLatToProjectedUnits(b)};h(c.prototype,"addCredits",function(b,a){a=k(!0,this.options.credits,a);this.mapCredits&&(a.href=null);b.call(this,a);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});q.geojson=g;q.topo2geo=p;return{geojson:g,topo2geo:p}});
z(c,"Core/Geometry/PolygonClip.js",[],function(){var c=function(c,p,g){return(p[0]-c[0])*(g[1]-c[1])>(p[1]-c[1])*(g[0]-c[0])},h=function(c,p,g,d){var h=[c[0]-p[0],c[1]-p[1]],v=[g[0]-d[0],g[1]-d[1]];c=c[0]*p[1]-c[1]*p[0];g=g[0]*d[1]-g[1]*d[0];d=1/(h[0]*v[1]-h[1]*v[0]);h=[(c*v[0]-g*h[0])*d,(c*v[1]-g*h[1])*d];h.isIntersection=!0;return h},q;(function(n){n.clipLineString=function(c,g){var d=[];c=n.clipPolygon(c,g,!1);for(g=1;g<c.length;g++)c[g].isIntersection&&c[g-1].isIntersection&&(d.push(c.splice(0,
g)),g=0),g===c.length-1&&d.push(c);return d};n.clipPolygon=function(p,g,d){void 0===d&&(d=!0);for(var n=g[g.length-1],v,r,k=p,b=0;b<g.length;b++){var a=k;p=g[b];k=[];v=d?a[a.length-1]:a[0];for(var e=0;e<a.length;e++)r=a[e],c(n,p,r)?(c(n,p,v)||k.push(h(n,p,v,r)),k.push(r)):c(n,p,v)&&k.push(h(n,p,v,r)),v=r;n=p}return k}})(q||(q={}));return q});z(c,"Maps/Projections/LambertConformalConic.js",[],function(){var c=Math.sign||function(c){return 0===c?0:0<c?1:-1},h=Math.PI/180,q=Math.PI/2;return function(){function n(p){var g,
d=(p.parallels||[]).map(function(d){return d*h}),n=d[0]||0;d=null!==(g=d[1])&&void 0!==g?g:n;g=Math.cos(n);"object"===typeof p.projectedBounds&&(this.projectedBounds=p.projectedBounds);p=n===d?Math.sin(n):Math.log(g/Math.cos(d))/Math.log(Math.tan((q+d)/2)/Math.tan((q+n)/2));1e-10>Math.abs(p)&&(p=1e-10*(c(p)||1));this.n=p;this.c=g*Math.pow(Math.tan((q+n)/2),p)/p}n.prototype.forward=function(c){var g=c[0]*h,d=this.c,p=this.n,n=this.projectedBounds;c=c[1]*h;0<d?c<-q+.000001&&(c=-q+.000001):c>q-.000001&&
(c=q-.000001);var r=d/Math.pow(Math.tan((q+c)/2),p);c=r*Math.sin(p*g)*63.78137;g=63.78137*(d-r*Math.cos(p*g));d=[c,g];n&&(c<n.x1||c>n.x2||g<n.y1||g>n.y2)&&(d.outside=!0);return d};n.prototype.inverse=function(p){var g=p[0]/63.78137,d=this.c,n=this.n;p=d-p[1]/63.78137;var v=c(n)*Math.sqrt(g*g+p*p),r=Math.atan2(g,Math.abs(p))*c(p);0>p*n&&(r-=Math.PI*c(g)*c(p));return[r/n/h,(2*Math.atan(Math.pow(d/v,1/n))-q)/h]};return n}()});z(c,"Maps/Projections/EqualEarth.js",[],function(){var c=Math.sqrt(3)/2;return function(){function h(){this.bounds=
{x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}h.prototype.forward=function(h){var n=Math.PI/180,p=Math.asin(c*Math.sin(h[1]*n)),g=p*p,d=g*g*g;return[h[0]*n*Math.cos(p)*74.03120656864502/(c*(1.340264+3*-.081106*g+d*(7*.000893+.034164*g))),74.03120656864502*p*(1.340264+-.081106*g+d*(.000893+.003796*g))]};h.prototype.inverse=function(h){var n=h[0]/74.03120656864502;h=h[1]/74.03120656864502;var p=180/Math.PI,g=h,d;for(d=0;12>d;++d){var q=g*g;var v=q*q*q;var r=
g*(1.340264+-.081106*q+v*(.000893+.003796*q))-h;q=1.340264+3*-.081106*q+v*(7*.000893+.034164*q);g-=r/=q;if(1e-9>Math.abs(r))break}q=g*g;return[p*c*n*(1.340264+3*-.081106*q+q*q*q*(7*.000893+.034164*q))/Math.cos(g),p*Math.asin(Math.sin(g)/c)]};return h}()});z(c,"Maps/Projections/Miller.js",[],function(){var c=Math.PI/4,h=Math.PI/180;return function(){function q(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}q.prototype.forward=function(n){return[n[0]*
h*63.78137,79.7267125*Math.log(Math.tan(c+.4*n[1]*h))]};q.prototype.inverse=function(n){return[n[0]/63.78137/h,2.5*(Math.atan(Math.exp(n[1]/63.78137*.8))-c)/h]};return q}()});z(c,"Maps/Projections/Orthographic.js",[],function(){var c=Math.PI/180;return function(){function h(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}h.prototype.forward=function(h){var n=h[0];h=h[1]*c;h=[Math.cos(h)*Math.sin(n*c)*63.78460826781007,
63.78460826781007*Math.sin(h)];if(-90>n||90<n)h.outside=!0;return h};h.prototype.inverse=function(h){var n=h[0]/63.78460826781007;h=h[1]/63.78460826781007;var p=Math.sqrt(n*n+h*h),g=Math.asin(p),d=Math.sin(g);return[Math.atan2(n*d,p*Math.cos(g))/c,Math.asin(p&&h*d/p)/c]};return h}()});z(c,"Maps/Projections/WebMercator.js",[],function(){var c=Math.PI/180;return function(){function h(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=
85.0511287798}h.prototype.forward=function(h){var n=Math.sin(h[1]*c);n=[63.78137*h[0]*c,63.78137*Math.log((1+n)/(1-n))/2];85.0511287798<Math.abs(h[1])&&(n.outside=!0);return n};h.prototype.inverse=function(h){return[h[0]/(63.78137*c),(2*Math.atan(Math.exp(h[1]/63.78137))-Math.PI/2)/c]};return h}()});z(c,"Maps/Projections/ProjectionRegistry.js",[c["Maps/Projections/LambertConformalConic.js"],c["Maps/Projections/EqualEarth.js"],c["Maps/Projections/Miller.js"],c["Maps/Projections/Orthographic.js"],c["Maps/Projections/WebMercator.js"]],
function(c,h,q,n,p){return{EqualEarth:h,LambertConformalConic:c,Miller:q,Orthographic:n,WebMercator:p}});z(c,"Maps/Projection.js",[c["Core/Geometry/PolygonClip.js"],c["Maps/Projections/ProjectionRegistry.js"],c["Core/Utilities.js"]],function(c,h,q){var n=this&&this.__spreadArray||function(c,b,a){if(a||2===arguments.length)for(var e=0,d=b.length,u;e<d;e++)!u&&e in b||(u||(u=Array.prototype.slice.call(b,0,e)),u[e]=b[e]);return c.concat(u||Array.prototype.slice.call(b))},p=c.clipLineString,g=c.clipPolygon,
d=q.clamp,y=q.erase,v=2*Math.PI/360,r=function(c){-180>c&&(c+=360);180<c&&(c-=360);return c};return function(){function c(b){void 0===b&&(b={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=b;var a=b.name,e=b.projectedBounds,d=b.rotation;this.rotator=d?this.getRotator(d):void 0;if(a=a?c.registry[a]:void 0)this.def=new a(b);var u=this.def,f=this.rotator;u&&(this.maxLatitude=u.maxLatitude||90,this.hasGeoProjection=!0);f&&u?(this.forward=function(a){return u.forward(f.forward(a))},
this.inverse=function(a){return f.inverse(u.inverse(a))}):u?(this.forward=function(a){return u.forward(a)},this.inverse=function(a){return u.inverse(a)}):f&&(this.forward=f.forward,this.inverse=f.inverse);this.bounds="world"===e?u&&u.bounds:e}c.add=function(b,a){c.registry[b]=a};c.greatCircle=function(b,a,e){var c=Math.atan2,d=Math.cos,f=Math.sin,g=Math.sqrt,m=b[1]*v,k=b[0]*v,h=a[1]*v,r=a[0]*v,t=h-m,p=r-k;t=f(t/2)*f(t/2)+d(m)*d(h)*f(p/2)*f(p/2);t=2*c(g(t),g(1-t));var n=Math.round(6371E3*t/5E5);p=
[];e&&p.push(b);if(1<n)for(n=b=1/n;.999>n;n+=b){var q=f((1-n)*t)/f(t),I=f(n*t)/f(t),w=q*d(m)*d(k)+I*d(h)*d(r),N=q*d(m)*f(k)+I*d(h)*f(r);q=q*f(m)+I*f(h);q=c(q,g(w*w+N*N));w=c(N,w);p.push([w/v,q/v])}e&&p.push(a);return p};c.insertGreatCircles=function(b){for(var a=b.length-1;a--;)if(10<Math.max(Math.abs(b[a][0]-b[a+1][0]),Math.abs(b[a][1]-b[a+1][1]))){var e=c.greatCircle(b[a],b[a+1]);e.length&&b.splice.apply(b,n([a+1,0],e,!1))}};c.toString=function(b){b=b||{};var a=b.rotation;return[b.name,a&&a.join(",")].join(";")};
c.prototype.lineIntersectsBounds=function(b){var a=this.bounds||{},e=a.x2,c=a.y1,d=a.y2,f=function(a,b,e){var c=a[0];a=a[1];var d=b?0:1;if("number"===typeof e&&c[b]>=e!==a[b]>=e)return c=c[d]+(e-c[b])/(a[b]-c[b])*(a[d]-c[d]),b?[c,e]:[e,c]},g=b[0];if(a=f(b,0,a.x1))g=a,b[1]=a;else if(a=f(b,0,e))g=a,b[1]=a;if(a=f(b,1,c))g=a;else if(a=f(b,1,d))g=a;return g};c.prototype.getRotator=function(b){var a=b[0]*v,e=(b[1]||0)*v;b=(b[2]||0)*v;var c=Math.cos(e),d=Math.sin(e),f=Math.cos(b),g=Math.sin(b);if(0!==a||
0!==e||0!==b)return{forward:function(b){var e=b[0]*v+a,l=b[1]*v,m=Math.cos(l);b=Math.cos(e)*m;e=Math.sin(e)*m;l=Math.sin(l);m=l*c+b*d;return[Math.atan2(e*f-m*g,b*c-l*d)/v,Math.asin(m*f+e*g)/v]},inverse:function(b){var e=b[0]*v,l=b[1]*v,m=Math.cos(l);b=Math.cos(e)*m;e=Math.sin(e)*m;l=Math.sin(l);m=l*f-e*g;return[(Math.atan2(e*f+l*g,b*c+m*d)-a)/v,Math.asin(m*c-b*d)/v]}}};c.prototype.forward=function(b){return b};c.prototype.inverse=function(b){return b};c.prototype.cutOnAntimeridian=function(b,a){var e=
[],l=[b];b.forEach(function(c,f){var l=b[f-1];if(!f){if(!a)return;l=b[b.length-1]}var t=l[0],w=c[0];(-90>t||90<t)&&(-90>w||90<w)&&0<t!==0<w&&(w=d((180-(t+360)%360)/((w+360)%360-(t+360)%360),0,1),e.push({i:f,lat:l[1]+w*(c[1]-l[1]),direction:0>t?1:-1,previousLonLat:l,lonLat:c}))});if(e.length)if(a){if(1===e.length%2){var u=e.slice().sort(function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)})[0];y(e,u)}for(var f=e.length-2;0<=f;){var g=e[f].i,m=r(180+.000001*e[f].direction),k=r(180-.000001*e[f].direction);
g=b.splice.apply(b,n([g,e[f+1].i-g],c.greatCircle([m,e[f].lat],[m,e[f+1].lat],!0),!1));g.push.apply(g,c.greatCircle([k,e[f+1].lat],[k,e[f].lat],!0));l.push(g);f-=2}if(u)for(m=0;m<l.length;m++){f=u.direction;var h=u.lat;k=l[m];g=k.indexOf(u.lonLat);if(-1<g){m=(0>h?-1:1)*this.maxLatitude;var p=r(180+.000001*f),t=r(180-.000001*f);h=c.greatCircle([p,h],[p,m],!0);for(p+=120*f;-180<p&&180>p;p+=120*f)h.push([p,m]);h.push.apply(h,c.greatCircle([t,m],[t,u.lat],!0));k.splice.apply(k,n([g,0],h,!1));break}}}else for(f=
e.length;f--;)g=e[f].i,g=b.splice(g,b.length,[r(180+.000001*e[f].direction),e[f].lat]),g.unshift([r(180-.000001*e[f].direction),e[f].lat]),l.push(g);return l};c.prototype.path=function(b){var a=this,e=this.bounds,d=this.def,u=this.rotator,f=[],k="Polygon"===b.type||"MultiPolygon"===b.type,m=this.hasGeoProjection,h=!d||!1!==d.antimeridianCutting,r=h?u:void 0,n=h?d||this:this,t;e&&(t=[[e.x1,e.y1],[e.x2,e.y1],[e.x2,e.y2],[e.x1,e.y2]]);var B=function(b){b=b.map(function(a){if(h){r&&(a=r.forward(a));var b=
a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});var d=[b];m&&(c.insertGreatCircles(b),h&&(d=a.cutOnAntimeridian(b,k)));d.forEach(function(a){if(!(2>a.length)){var b=!1,d=!1,l=function(a){b?f.push(["L",a[0],a[1]]):(f.push(["M",a[0],a[1]]),b=!0)},u=!1,P=!1,r=a.map(function(a){a=n.forward(a);a.outside?u=!0:P=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(h){k&&r.push(r[0]);if(u){if(!P)return;if(t)if(k)r=g(r,t);else if(e){p(r,t).forEach(function(a){b=
!1;a.forEach(l)});return}}r.forEach(l)}else for(var B=0;B<r.length;B++){var v=a[B],q=r[B];if(q.outside)d=!0;else{if(k&&!x){var x=v;a.push(v);r.push(q)}d&&E&&(k&&m?c.greatCircle(E,v).forEach(function(a){return l(n.forward(a))}):b=!1);l(q);var E=v;d=!1}}}})};"LineString"===b.type?B(b.coordinates):"MultiLineString"===b.type?b.coordinates.forEach(function(a){return B(a)}):"Polygon"===b.type?(b.coordinates.forEach(function(a){return B(a)}),f.length&&f.push(["Z"])):"MultiPolygon"===b.type&&(b.coordinates.forEach(function(a){a.forEach(function(a){return B(a)})}),
f.length&&f.push(["Z"]));return f};c.registry=h;return c}()});z(c,"Maps/MapView.js",[c["Maps/MapViewOptionsDefault.js"],c["Maps/MapViewInsetsOptionsDefault.js"],c["Extensions/GeoJSON.js"],c["Core/Chart/MapChart.js"],c["Maps/MapUtilities.js"],c["Maps/Projection.js"],c["Core/Utilities.js"]],function(c,h,q,n,p,g,d){var y=this&&this.__extends||function(){var a=function(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)Object.prototype.hasOwnProperty.call(b,
e)&&(a[e]=b[e])};return a(b,e)};return function(b,e){function c(){this.constructor=b}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),v=this&&this.__spreadArray||function(a,b,e){if(e||2===arguments.length)for(var c=0,d=b.length,f;c<d;c++)!f&&c in b||(f||(f=Array.prototype.slice.call(b,0,c)),f[c]=b[c]);return a.concat(f||Array.prototype.slice.call(b))},
r=q.topo2geo,k=n.maps,b=p.boundsFromPath,a=p.pointInPolygon,e=d.addEvent,l=d.clamp,u=d.fireEvent,f=d.isArray,x=d.isNumber,m=d.isObject,G=d.isString,A=d.merge,C=d.pick,t=d.relativeLength,B=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},E=function(){function d(a,b){var f=this;this.allowTransformAnimation=!0;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];var w;if(!(this instanceof J)){var l=v([a.options.chart.map],(a.options.series||
[]).map(function(a){return a.mapData}),!0).map(function(a){return f.getGeoMap(a)}),t=[];l.forEach(function(a){a&&(k||(k=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,t.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var m=t.length&&d.compositeBounds(t);u(a,"beforeMapViewInit",{geoBounds:m},function(){if(m){var a=m.x1,b=m.y1,e=m.x2,c=m.y2;w=180<e-a&&90<c-b?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[b,c],rotation:[-(a+e)/2]}}});this.geoMap=l[0]}this.userOptions=b||{};if(a.options.mapView&&
a.options.mapView.recommendedMapView)var k=a.options.mapView.recommendedMapView;l=A(c,{projection:w},k,b);var h=k&&k.insets;b=b&&b.insets;h&&b&&(l.insets=d.mergeInsets(h,b));this.chart=a;this.center=l.center;this.options=l;this.projection=new g(l.projection);this.playingField=a.plotBox;this.zoom=l.zoom||0;this.minZoom=l.minZoom;this.createInsets();this.eventsToUnbind.push(e(a,"afterSetChartSize",function(){f.playingField=f.getField();if(void 0===f.minZoom||f.minZoom===f.zoom)f.fitToBounds(void 0,
void 0,!1),!f.chart.hasRendered&&x(f.userOptions.zoom)&&(f.zoom=f.userOptions.zoom),f.userOptions.center&&A(!0,f.center,f.userOptions.center)}));this.setUpEvents()}d.mergeInsets=function(a,b){var e=function(a){var b={};a.forEach(function(a,e){b[a&&a.id||"i".concat(e)]=a});return b},c=A(e(a),e(b));return Object.keys(c).map(function(a){return c[a]})};d.prototype.createInsets=function(){var a=this,b=this.options,e=b.insets;e&&e.forEach(function(e){e=new J(a,A(b.insetOptions,e));a.insets.push(e)})};d.prototype.fitToBounds=
function(a,b,e,c){void 0===e&&(e=!0);var d=a||this.getProjectedBounds();if(d){var w=C(b,a?0:this.options.padding);b=this.getField(!1);w=f(w)?w:[w,w,w,w];this.padding=[t(w[0],b.height),t(w[1],b.width),t(w[2],b.height),t(w[3],b.width)];this.playingField=this.getField();b=B(d,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(d.x2+d.x1)/2,(d.y2+d.y1)/2]);this.setView(a,b,e,c)}};d.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-
a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}};d.prototype.getGeoMap=function(a){if(G(a))return k[a]&&"Topology"===k[a].type?r(k[a]):k[a];if(m(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return r(a)}};d.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var e=this.padding,c=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+e[1]+e[3],height:(a.y2-a.y1)*b+e[0]+e[2],x:c.x-e[3],y:c.y-e[0]}}};d.prototype.getProjectedBounds=
function(){var a=this.projection,e=this.chart.series.reduce(function(a,b){var e=b.getProjectedBounds&&b.getProjectedBounds();e&&!1!==b.options.affectsMapView&&a.push(e);return a},[]),c=this.options.fitToGeometry;return c?(this.fitToGeometryCache||("MultiPoint"===c.type?(c=c.coordinates.map(function(b){return a.forward(b)}),e=c.map(function(a){return a[0]}),c=c.map(function(a){return a[1]}),this.fitToGeometryCache={x1:Math.min.apply(0,e),x2:Math.max.apply(0,e),y1:Math.min.apply(0,c),y2:Math.max.apply(0,
c)}):this.fitToGeometryCache=b(a.path(c))),this.fitToGeometryCache):this.projection.bounds||d.compositeBounds(e)};d.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};d.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,e=a.y,c=a.width;a=a.height;var d=this.projection.forward(this.center),f=this.projection.hasCoordinates?-1:1,l=this.getScale();f*=l;return{scaleX:l,scaleY:f,translateX:b+c/2-d[0]*l,translateY:e+a/2-d[1]*f}};d.prototype.lonLatToPixels=function(a){if(a=
this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};d.prototype.lonLatToProjectedUnits=function(b){var e=this.chart,c=e.mapTransforms;if(c){for(var d in c)if(Object.hasOwnProperty.call(c,d)&&c[d].hitZone){var f=e.transformFromLatLon(b,c[d]);if(f&&a(f,c[d].hitZone.coordinates[0]))return f}return e.transformFromLatLon(b,c["default"])}c=0;for(d=this.insets;c<d.length;c++)if(e=d[c],e.options.geoBounds&&a({x:b.lon,y:b.lat},e.options.geoBounds.coordinates[0]))return b=e.projection.forward([b.lon,
b.lat]),b=e.projectedUnitsToPixels({x:b[0],y:b[1]}),this.pixelsToProjectedUnits(b);b=this.projection.forward([b.lon,b.lat]);if(!b.outside)return{x:b[0],y:b[1]}};d.prototype.projectedUnitsToLonLat=function(b){var e=this.chart,c=e.mapTransforms;if(c){for(var d in c)if(Object.hasOwnProperty.call(c,d)&&c[d].hitZone&&a(b,c[d].hitZone.coordinates[0]))return e.transformToLatLon(b,c[d]);return e.transformToLatLon(b,c["default"])}c=this.projectedUnitsToPixels(b);d=0;for(var f=this.insets;d<f.length;d++)if(e=
f[d],e.hitZone&&a(c,e.hitZone.coordinates[0]))return b=e.pixelsToProjectedUnits(c),b=e.projection.inverse([b.x,b.y]),{lon:b[0],lat:b[1]};b=this.projection.inverse([b.x,b.y]);return{lon:b[0],lat:b[1]}};d.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};d.prototype.setView=function(a,b,e,c){void 0===e&&(e=!0);a&&(this.center=a);"number"===typeof b&&("number"===typeof this.minZoom&&(b=Math.max(b,this.minZoom)),"number"===typeof this.options.maxZoom&&
(b=Math.min(b,this.options.maxZoom)),x(b)&&(this.zoom=b));var d=this.getProjectedBounds();if(d){a=this.projection.forward(this.center);var f=this.playingField;b=f.x;var l=f.y,t=f.width;f=f.height;var m=this.getScale(),g=this.projectedUnitsToPixels({x:d.x1,y:d.y1}),k=this.projectedUnitsToPixels({x:d.x2,y:d.y2});d=[(d.x1+d.x2)/2,(d.y1+d.y2)/2];if(!this.chart.series.some(function(a){return a.isDrilling})){var h=g.x,w=k.y;k=k.x;g=g.y;k-h<t?a[0]=d[0]:h<b&&k<b+t?a[0]+=Math.max(h-b,k-t-b)/m:k>b+t&&h>b&&
(a[0]+=Math.min(k-t-b,h-b)/m);g-w<f?a[1]=d[1]:w<l&&g<l+f?a[1]-=Math.max(w-l,g-f-l)/m:g>l+f&&w>l&&(a[1]-=Math.min(g-f-l,w-l)/m);this.center=this.projection.inverse(a)}this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}u(this,"afterSetView");e&&this.redraw(c)};d.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),e=this.projection.forward(this.center),c=this.playingField;return{x:c.x+c.width/2-b*(e[0]-a.x),y:c.y+c.height/
2+b*(e[1]-a.y)}};d.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};d.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var e=this.getScale(),c=this.projection.forward(this.center),d=this.playingField;return{x:c[0]+(b-(d.x+d.width/2))/e,y:c[1]-(a-(d.y+d.height/2))/e}};d.prototype.setUpEvents=function(){var a=this,b=this.chart,c,d,f,t=function(e){var t=b.pointer.pinchDown,m=a.projection,g=b.mouseDownX,k=b.mouseDownY;1===t.length&&(g=
t[0].chartX,k=t[0].chartY);if("number"===typeof g&&"number"===typeof k){var h="".concat(g,",").concat(k),u=e.originalEvent;t=u.chartX;u=u.chartY;h!==d&&(d=h,c=a.projection.forward(a.center),f=(a.projection.options.rotation||[0,0]).slice());h=(h=m.def&&m.def.bounds)&&B(h,a.playingField)||-Infinity;"Orthographic"===m.options.name&&(a.minZoom||Infinity)<1.3*h?(m=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),f&&(g=(g-t)*m-f[0],k=l(-f[1]-(k-u)*m,-80,80),t=a.zoom,a.update({projection:{rotation:[-g,
-k]}},!1),a.fitToBounds(void 0,void 0,!1),a.zoom=t,b.redraw(!1))):x(t)&&x(u)&&(m=a.getScale(),k=a.projection.inverse([c[0]+(g-t)/m,c[1]-(k-u)/m*(a.projection.hasCoordinates?1:-1)]),a.setView(k,void 0,!0,!1));e.preventDefault()}};e(b,"pan",t);e(b,"touchpan",t);e(b,"selection",function(e){if(e.resetSelection)a.zoomBy();else{var c=e.x-b.plotLeft,d=e.y-b.plotTop,f=a.pixelsToProjectedUnits({x:c,y:d}),l=f.y;f=f.x;c=a.pixelsToProjectedUnits({x:c+e.width,y:d+e.height});a.fitToBounds({x1:f,y1:l,x2:c.x,y2:c.y},
void 0,!0,e.originalEvent.touches?!1:void 0);/^touch/.test(e.originalEvent.type)||b.showResetZoom();e.preventDefault()}})};d.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};d.prototype.update=function(a,b,e){void 0===b&&(b=!0);var c=a.projection;c=c&&g.toString(c)!==g.toString(this.options.projection);var d=!1;A(!0,this.userOptions,a);A(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),this.insets.length=
0,d=!0);(c||"fitToGeometry"in a)&&delete this.fitToGeometryCache;if(c||d)this.chart.series.forEach(function(a){var b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(d&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),c&&(this.projection=new g(this.options.projection)),d&&this.createInsets(),a.center||!Object.hasOwnProperty.call(a,"zoom")||x(a.zoom)||this.fitToBounds(void 0,void 0,!1);a.center||x(a.zoom)?this.setView(this.options.center,a.zoom,!1):"fitToGeometry"in a&&
this.fitToBounds(void 0,void 0,!1);b&&this.chart.redraw(e)};d.prototype.zoomBy=function(a,b,e,c){var d=this.chart,f=this.projection.forward(this.center);b=b?this.projection.forward(b):[];var l=b[0],t=b[1];"number"===typeof a?(a=this.zoom+a,b=void 0,e&&(l=e[0],t=e[1],e=this.getScale(),l=l-d.plotLeft-d.plotWidth/2,d=t-d.plotTop-d.plotHeight/2,l=f[0]+l/e,t=f[1]+d/e),"number"===typeof l&&"number"===typeof t&&(e=1-Math.pow(2,this.zoom)/Math.pow(2,a),l=f[0]-l,d=f[1]-t,f[0]-=l*e,f[1]+=d*e,b=this.projection.inverse(f)),
this.setView(b,a,void 0,c)):this.fitToBounds(void 0,void 0,void 0,c)};d.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},A(a[0]))};return d}(),J=function(e){function c(a,c){var d=e.call(this,a.chart,c)||this;d.id=c.id;d.mapView=a;d.options=A(h,c);d.allBounds=[];d.options.geoBounds&&(a=a.projection.path(d.options.geoBounds),d.geoBoundsProjectedBox=b(a),d.geoBoundsProjectedPolygon=
a.map(function(a){return[a[1]||0,a[2]||0]}));return d}y(c,e);c.prototype.getField=function(a){void 0===a&&(a=!0);var b=this.hitZone;if(b){var c=a?this.padding:[0,0,0,0];b=b.coordinates[0];var d=b.map(function(a){return a[0]}),f=b.map(function(a){return a[1]});b=Math.min.apply(0,d)+c[3];d=Math.max.apply(0,d)-c[1];var l=Math.min.apply(0,f)+c[0];c=Math.max.apply(0,f)-c[2];if(x(b)&&x(l))return{x:b,y:l,width:d-b,height:c-l}}return e.prototype.getField.call(this,a)};c.prototype.getHitZone=function(){var a=
this.chart,b=this.mapView,e=this.options,c=(e.field||{}).coordinates;if(c){c=c[0];if("percent"===e.units){var d="mapBoundingBox"===e.relativeTo&&b.getMapBBox()||A(a.plotBox,{x:0,y:0});c=c.map(function(a){return[t("".concat(a[0],"%"),d.width,d.x),t("".concat(a[1],"%"),d.height,d.y)]})}return{type:"Polygon",coordinates:[c]}}};c.prototype.getProjectedBounds=function(){return E.compositeBounds(this.allBounds)};c.prototype.isInside=function(b){var c=this.geoBoundsProjectedBox,e=this.geoBoundsProjectedPolygon;
return!!(c&&b.x>=c.x1&&b.x<=c.x2&&b.y>=c.y1&&b.y<=c.y2&&e&&a(b,e))};c.prototype.render=function(){var a=this.chart,b=this.mapView,c=this.options,e=c.borderPath||c.field;if(e&&b.group){var d=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),d=!1);a.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});var f=Math.round(this.border.strokeWidth())%2/2,l="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||b.playingField;b=(e.coordinates||
[]).reduce(function(b,e){return e.reduce(function(b,e,d){var m=e[0];e=e[1];"percent"===c.units&&(m=a.plotLeft+t("".concat(m,"%"),l.width,l.x),e=a.plotTop+t("".concat(e,"%"),l.height,l.y));m=Math.floor(m)+f;e=Math.floor(e)+f;b.push(0===d?["M",m,e]:["L",m,e]);return b},b)},[]);this.border[d?"animate":"attr"]({d:b})}};c.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};c.prototype.setUpEvents=function(){};return c}(E);
e(n,"afterInit",function(){this.mapView=new E(this,this.options.mapView)});return E});z(c,"Series/Map/MapSeries.js",[c["Core/Animation/AnimationUtilities.js"],c["Series/ColorMapComposition.js"],c["Series/CenteredUtilities.js"],c["Core/Globals.js"],c["Core/Chart/MapChart.js"],c["Series/Map/MapPoint.js"],c["Maps/MapView.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,h,q,n,p,g,d,y,v,r,k){var b=this&&this.__extends||
function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),a=c.animObject,e=c.stop;c=n.noop;
var l=p.splitPath;p=v.seriesTypes;var u=p.column,f=p.scatter;p=k.extend;var x=k.find,m=k.fireEvent,G=k.getNestedProperty,A=k.isArray,C=k.defined,t=k.isNumber,B=k.isObject,E=k.merge,J=k.objectEach,I=k.pick,w=k.splat;k=function(c){function k(){var a=null!==c&&c.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.group=void 0;a.joinBy=void 0;a.options=void 0;a.points=void 0;a.processedData=[];return a}b(k,c);k.prototype.animate=function(b){var c=this.chart,e=this.group,d=a(this.options.animation);
b?e.attr({translateX:c.plotLeft+c.plotWidth/2,translateY:c.plotTop+c.plotHeight/2,scaleX:.001,scaleY:.001}):e.animate({translateX:c.plotLeft,translateY:c.plotTop,scaleX:1,scaleY:1},d)};k.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;delete a.insetIndex;delete a.projectedPath});delete this.bounds};k.prototype.doFullTranslate=function(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)};k.prototype.drawMapDataLabels=function(){y.prototype.drawDataLabels.call(this);
this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};k.prototype.drawPoints=function(){var b=this,c=this,d=this.chart,f=this.group,l=this.transformGroups,m=void 0===l?[]:l,k=d.mapView,g=d.renderer;k&&(this.transformGroups=m,m[0]||(m[0]=g.g().add(f)),k.insets.forEach(function(a,b){m[b+1]||m.push(g.g().add(f))}),this.doFullTranslate()&&(this.points.forEach(function(a){var c=a.graphic,e=a.shapeArgs;a.group=m["number"===typeof a.insetIndex?a.insetIndex+1:0];c&&c.parentGroup!==a.group&&
c.add(a.group);e&&d.hasRendered&&!d.styledMode&&(e.fill=b.pointAttribs(a,a.state).fill)}),u.prototype.drawPoints.apply(this),this.points.forEach(function(a){var e=a.graphic;if(e){var f=e.animate,l="";a.name&&(l+="highcharts-name-"+a.name.replace(/ /g,"-").toLowerCase());a.properties&&a.properties["hc-key"]&&(l+=" highcharts-key-"+a.properties["hc-key"].toString().toLowerCase());l&&e.addClass(l);d.styledMode&&e.css(b.pointAttribs(a,a.selected&&"select"||void 0));e.animate=function(a,b,l){var m=t(a["stroke-width"])&&
!t(e["stroke-width"]),k=t(e["stroke-width"])&&!t(a["stroke-width"]);if(m||k){var g=I(c.getStrokeWidth(c.options),1)/(d.mapView&&d.mapView.getScale()||1);m&&(e["stroke-width"]=g);k&&(a["stroke-width"]=g)}return f.call(e,a,b,k?function(){e.element.removeAttribute("stroke-width");delete e["stroke-width"];l&&l.apply(this,arguments)}:l)}}})),m.forEach(function(f,l){var t=(0===l?k:k.insets[l-1]).getSVGTransform(),m=I(b.getStrokeWidth(b.options),1),h=t.scaleX,u=0<t.scaleY?1:-1,r=function(a){(c.points||[]).forEach(function(c){var e=
c.graphic,d;e&&e["stroke-width"]&&(d=b.getStrokeWidth(c.options))&&e.attr({"stroke-width":d/a})})};if(g.globalAnimation&&d.hasRendered&&k.allowTransformAnimation){var p=Number(f.attr("translateX")),n=Number(f.attr("translateY")),B=Number(f.attr("scaleX")),w=function(a,b){a=B+(h-B)*b.pos;f.attr({translateX:p+(t.translateX-p)*b.pos,translateY:n+(t.translateY-n)*b.pos,scaleX:a,scaleY:a*u,"stroke-width":m/a});r(a)};l=E(a(g.globalAnimation));var v=l.step;l.step=function(a){v&&v.apply(this,arguments);w.apply(this,
arguments)};f.attr({animator:0}).animate({animator:1},l,function(){"boolean"!==typeof g.globalAnimation&&g.globalAnimation.complete&&g.globalAnimation.complete({applyDrilldown:!0})})}else e(f),f.attr(E(t,{"stroke-width":m/h})),r(h)}),this.isDrilling||this.drawMapDataLabels())};k.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,c=a.projection,e=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===typeof a.path?a.path=
l(a.path):A(a.path)&&"M"===a.path[0]&&(a.path=r.prototype.pathToSegments(a.path));if(!a.bounds){var d=a.getProjectedBounds(c);if(d){a.labelrank=I(a.labelrank,(d.x2-d.x1)*(d.y2-d.y1));var f=d.midX,m=d.midY;if(b&&t(f)&&t(m)){var k=x(b,function(a){return a.isInside({x:f,y:m})});k&&(delete a.projectedPath,(d=a.getProjectedBounds(k.projection))&&k.allBounds.push(d),a.insetIndex=b.indexOf(k))}a.bounds=d}}a.bounds&&void 0===a.insetIndex&&e.push(a.bounds)}});this.bounds=d.compositeBounds(e)}return this.bounds};
k.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]};k.prototype.hasData=function(){return!!this.processedXData.length};k.prototype.pointAttribs=function(a,b){var c,e=a.series.chart,d=e.mapView;e=e.styledMode?this.colorAttribs(a):u.prototype.pointAttribs.call(this,a,b);var f=this.getStrokeWidth(a.options);if(b){b=E(this.options.states[b],a.options.states&&a.options.states[b]||{});var l=this.getStrokeWidth(b);C(l)&&(f=l);e.stroke=null!==
(c=b.borderColor)&&void 0!==c?c:a.color}f&&d&&(f/=d.getScale());c=this.getStrokeWidth(this.options);e.dashstyle&&d&&t(c)&&(f=c/d.getScale());a.visible||(e.fill=this.options.nullColor);C(f)?e["stroke-width"]=f:delete e["stroke-width"];e["stroke-linecap"]=e["stroke-linejoin"]=this.options.linecap;return e};k.prototype.updateData=function(){return this.processedData?!1:c.prototype.updateData.apply(this,arguments)};k.prototype.setData=function(a,b,e,d){void 0===b&&(b=!0);delete this.bounds;c.prototype.setData.call(this,
a,!1,void 0,d);this.processData();this.generatePoints();b&&this.chart.redraw(e)};k.prototype.processData=function(){var a=this.options,b=a.data,c=this.chart.options.chart,e=this.joinBy,d=a.keys||this.pointArrayMap,f=[],l={},m=this.chart.mapView;m=m&&(B(a.mapData,!0)?m.getGeoMap(a.mapData):m.geoMap);var k=this.chart.mapTransforms;(this.chart.mapTransforms=k=c.mapTransforms||m&&m["hc-transform"]||k)&&J(k,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(A(a.mapData))var h=
a.mapData;else m&&"FeatureCollection"===m.type&&(this.mapTitle=m.title,h=n.geojson(m,this.type,this));var u=this.processedData=[];b&&b.forEach(function(c,f){var l=0;if(t(c))u[f]={value:c};else if(A(c)){u[f]={};!a.keys&&c.length>d.length&&"string"===typeof c[0]&&(u[f]["hc-key"]=c[0],++l);for(var m=0;m<d.length;++m,++l)d[m]&&"undefined"!==typeof c[l]&&(0<d[m].indexOf(".")?g.prototype.setNestedProperty(u[f],c[l],d[m]):u[f][d[m]]=c[l])}else u[f]=b[f];e&&"_i"===e[0]&&(u[f]._i=f)});if(h){this.mapData=h;
this.mapMap={};for(k=0;k<h.length;k++)c=h[k],m=c.properties,c._i=k,e[0]&&m&&m[e[0]]&&(c[e[0]]=m[e[0]]),l[c[e[0]]]=c;this.mapMap=l;if(e[1]){var r=e[1];u.forEach(function(a){a=G(r,a);l[a]&&f.push(l[a])})}if(a.allAreas){if(e[1]){var p=e[1];u.forEach(function(a){f.push(G(p,a))})}var w="|"+f.map(function(a){return a&&a[e[0]]}).join("|")+"|";h.forEach(function(a){e[0]&&-1!==w.indexOf("|"+a[e[0]]+"|")||u.push(E(a,{value:null}))})}}this.processedXData=Array(u.length)};k.prototype.setOptions=function(a){a=
y.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=w(b);b[1]||(b[1]=b[0]);return a};k.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||t(b.userOptions.zoom)||b.zoom!==b.minZoom?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1));if(b){var e=b.getSVGTransform();this.points.forEach(function(d){var f=
t(d.insetIndex)&&b.insets[d.insetIndex].getSVGTransform()||e;f&&d.bounds&&t(d.bounds.midX)&&t(d.bounds.midY)&&(d.plotX=d.bounds.midX*f.scaleX+f.translateX,d.plotY=d.bounds.midY*f.scaleY+f.translateY);a&&(d.shapeType="path",d.shapeArgs={d:g.getProjectedPath(d,c)});d.projectedPath&&!d.projectedPath.length?d.setVisible(!1):d.setVisible(!0)})}m(this,"afterTranslate")};k.defaultOptions=E(f.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=this.series.chart.numberFormatter,
b=this.point.value;return t(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"});return k}(f);p(k.prototype,{type:"map",axisTypes:h.seriesMembers.axisTypes,
colorAttribs:h.seriesMembers.colorAttribs,colorKey:h.seriesMembers.colorKey,directTouch:!0,drawDataLabels:c,drawGraph:c,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:c,isCartesian:!1,parallelArrays:h.seriesMembers.parallelArrays,pointArrayMap:h.seriesMembers.pointArrayMap,pointClass:g,preserveAspectRatio:!0,searchPoint:c,trackerGroups:h.seriesMembers.trackerGroups,useMapGeometry:!0});h.compose(k);v.registerSeriesType("map",k);"";return k});z(c,"Series/MapLine/MapLineSeries.js",
[c["Series/Map/MapSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q){var n=this&&this.__extends||function(){var c=function(d,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b])};return c(d,g)};return function(d,g){function h(){this.constructor=d}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");
c(d,g);d.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)}}(),p=q.extend,g=q.merge;q=function(d){function h(){var c=null!==d&&d.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}n(h,d);h.prototype.pointAttribs=function(d,g){d=c.prototype.pointAttribs.call(this,d,g);d.fill=this.options.fillColor;return d};h.defaultOptions=g(c.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"});return h}(c);p(q.prototype,{type:"mapline",colorProp:"stroke",
pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});h.registerSeriesType("mapline",q);"";return q});z(c,"Series/MapPoint/MapPointPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h){var q=this&&this.__extends||function(){var c=function(g,d){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])};return c(g,d)};return function(g,d){function h(){this.constructor=
g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(g,d);g.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}(),n=h.isNumber;return function(c){function g(){var d=null!==c&&c.apply(this,arguments)||this;d.options=void 0;d.series=void 0;return d}q(g,c);g.prototype.isValid=function(){return!!(this.options.geometry||n(this.x)&&n(this.y)||n(this.options.lon)&&n(this.options.lat))};return g}(c.seriesTypes.scatter.prototype.pointClass)});
z(c,"Series/MapPoint/MapPointSeries.js",[c["Core/Globals.js"],c["Series/MapPoint/MapPointPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,h,q,n,p){var g=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function e(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();c=c.noop;var d=q.seriesTypes,y=d.map,v=d.scatter;d=p.extend;var r=p.fireEvent,k=p.isNumber,b=p.merge;p=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.chart=void 0;b.data=void 0;b.options=void 0;b.points=void 0;b.clearBounds=y.prototype.clearBounds;return b}g(c,a);c.prototype.drawDataLabels=
function(){a.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};c.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var c=a.geometry,e=a.lon;a=a.lat;c=c&&"Point"===c.type&&c.coordinates;k(e)&&k(a)&&(c=[e,a]);if(c)return b.lonLatToProjectedUnits({lon:c[0],lat:c[1]})}};c.prototype.translate=function(){var a=this,b=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&
(delete this.bounds,this.getProjectedBounds());if(b){var c=b.getSVGTransform(),e=b.projection.hasCoordinates;this.points.forEach(function(d){var f=d.x;f=void 0===f?void 0:f;var l=d.y;l=void 0===l?void 0:l;var m=k(d.insetIndex)&&b.insets[d.insetIndex].getSVGTransform()||c,t=a.projectPoint(d.options)||d.properties&&a.projectPoint(d.properties);if(t)f=t.x,l=t.y;else if(d.bounds&&(f=d.bounds.midX,l=d.bounds.midY,m&&k(f)&&k(l))){d.plotX=f*m.scaleX+m.translateX;d.plotY=l*m.scaleY+m.translateY;var g=!0}k(f)&&
k(l)?g||(g=b.projectedUnitsToPixels({x:f,y:l}),d.plotX=g.x,d.plotY=e?g.y:a.chart.plotHeight-g.y):d.y=d.plotX=d.plotY=void 0;d.isInside=a.isPointInside(d);d.zone=a.zones.length?d.getZone():void 0})}r(this,"afterTranslate")};c.defaultOptions=b(v.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"});return c}(v);n.prototype.symbols.mapmarker=function(a,b,c,d,f){var e=f&&"legend"===f.context;
e?(a+=c/2,f=b+d):f&&"number"===typeof f.anchorX&&"number"===typeof f.anchorY?(a=f.anchorX,f=f.anchorY):(a+=c/2,f=b+d/2,b-=d);d=e?d/3:d/2;return[["M",a,f],["C",a,f,a-d,b+1.5*d,a-d,b+d],["A",d,d,1,1,1,a+d,b+d],["C",a+d,b+1.5*d,a,f,a,f],["Z"]]};d(p.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:h,searchPoint:c,useMapGeometry:!0});q.registerSeriesType("mappoint",p);"";return p});z(c,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,
borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});z(c,"Series/Bubble/BubbleLegendItem.js",[c["Core/Color/Color.js"],
c["Core/Templating.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,h,q,n){var p=c.parse,g=q.noop,d=n.arrayMax,y=n.arrayMin,v=n.isNumber,r=n.merge,k=n.pick,b=n.stableSort;c=function(){function a(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0;this.setState=g;this.init(a,b)}a.prototype.init=function(a,b){this.options=a;this.visible=!0;this.chart=b.chart;this.legend=b};a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,
0,this)};a.prototype.drawLegendSymbol=function(a){var c=k(a.options.itemDistance,20),d=this.legendItem||{},e=this.options,g=e.ranges,m=e.connectorDistance;if(g&&g.length&&v(g[0].value)){b(g,function(a,b){return b.value-a.value});this.ranges=g;this.setOptions();this.render();a=this.getMaxLabelSize();var h=this.ranges[0].radius;g=2*h;m=m-h+a.width;m=0<m?m:0;this.maxLabel=a;this.movementX="left"===e.labels.align?m:0;d.labelWidth=g+m+c;d.labelHeight=g+a.height/2}else a.options.bubbleLegend.autoRanges=
!0};a.prototype.setOptions=function(){var a=this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],d=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},m={zIndex:b.zIndex,"stroke-width":b.connectorWidth},h={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},n=c.options.marker.fillOpacity,q=this.chart.styledMode;a.forEach(function(e,f){q||(g.stroke=k(e.borderColor,b.borderColor,c.color),g.fill=k(e.color,b.color,1!==n?p(c.color).setOpacity(n).get("rgba"):
c.color),m.stroke=k(e.connectorColor,b.connectorColor,c.color));a[f].radius=this.getRangeRadius(e.value);a[f]=r(a[f],{center:a[0].radius-a[f].radius+d});q||r(!0,a[f],{bubbleAttribs:r(g),connectorAttribs:r(m),labelAttribs:h})},this)};a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};a.prototype.render=function(){var a=this.legendItem||{},b=this.chart.renderer,
c=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=b.g("bubble-legend");a.label=b.g("bubble-legend-item").css(this.legend.itemStyle||{});a.symbol.translateX=0;a.symbol.translateY=0;a.symbol.add(a.label);a.label.add(a.group);a=0;for(b=this.ranges;a<b.length;a++){var d=b[a];d.value>=c&&this.renderRange(d)}this.hideOverlappingLabels()};a.prototype.renderRange=function(a){var b=this.options,c=b.labels,d=this.chart,e=d.series[b.seriesIndex],g=d.renderer,
k=this.symbols;d=k.labels;var h=a.center,r=Math.abs(a.radius),t=b.connectorDistance||0,n=c.align,p=b.connectorWidth,q=this.ranges[0].radius||0,v=h-r-b.borderWidth/2+p/2,w=g.styledMode;t=this.legend.options.rtl||"left"===n?-t:t;"center"===n&&(t=0,b.connectorDistance=0,a.labelAttribs.align="center");k.bubbleItems.push(g.circle(q,h+((v%1?1:.5)-(p%2?0:.5)),r).attr(w?{}:a.bubbleAttribs).addClass((w?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendItem.symbol));
k.connectors.push(g.path(g.crispLine([["M",q,v],["L",q+t,v]],b.connectorWidth)).attr(w?{}:a.connectorAttribs).addClass((w?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendItem.symbol));a=g.text(this.formatLabel(a)).attr(w?{}:a.labelAttribs).css(w?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendItem.symbol);b={x:q+t+b.labels.x,y:v+b.labels.y+.4*a.getBBox().height};
a.attr(b);d.push(a);a.placed=!0;a.alignAttr=b};a.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};a.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var d=this.chart.numberFormatter;return b?h.format(b,a):c?c.call(a):d(a.value,1)};a.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),
b.labels.forEach(function(a,c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};a.prototype.getRanges=function(){var a=this.legend.bubbleLegend,b=a.options.ranges,c,f=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(c=a.zData.filter(v),c.length&&(f=k(a.options.zMin,Math.min(f,Math.max(y(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=k(a.options.zMax,Math.max(g,d(c)))))});
var m=f===g?[{value:g}]:[{value:f},{value:(f+g)/2},{value:g,autoRanges:!0}];b.length&&b[0].radius&&m.reverse();m.forEach(function(a,c){b&&b[c]&&(m[c]=r(b[c],a))});return m};a.prototype.predictBubbleSizes=function(){var a=this.chart,b=a.legend.options,c=b.floating,d=(b="horizontal"===b.layout)?a.legend.lastLineHeight:0,g=a.plotSizeX,k=a.plotSizeY,h=a.series[this.options.seriesIndex],r=h.getPxExtremes();a=Math.ceil(r.minPxSize);r=Math.ceil(r.maxPxSize);var n=Math.min(k,g);h=h.options.maxSize;if(c||
!/%$/.test(h))c=r;else if(h=parseFloat(h),c=(n+d)*h/100/(h/100+1),b&&k-c>=g||!b&&g-c>=k)c=r;return[a,Math.ceil(c)]};a.prototype.updateRanges=function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return a}();"";return c});
z(c,"Series/Bubble/BubbleLegendComposition.js",[c["Series/Bubble/BubbleLegendDefaults.js"],c["Series/Bubble/BubbleLegendItem.js"],c["Core/Defaults.js"],c["Core/Utilities.js"]],function(c,h,q,n){function p(b,c,e){var f=this.legend,k=0<=g(this),h;if(f&&f.options.enabled&&f.bubbleLegend&&f.options.bubbleLegend.autoRanges&&k){var l=f.bubbleLegend.options;k=f.bubbleLegend.predictBubbleSizes();f.bubbleLegend.updateRanges(k[0],k[1]);l.placed||(f.group.placed=!1,f.allItems.forEach(function(a){h=a.legendItem||
{};h.group&&(h.group.translateY=null)}));f.render();this.getMargins();this.axes.forEach(function(b){b.visible&&b.render();l.placed||(b.setScale(),b.updateNames(),a(b.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});l.placed=!0;this.getMargins();b.call(this,c,e);f.bubbleLegend.correctSizes();r(f,d(f))}else b.call(this,c,e),f&&f.options.enabled&&f.bubbleLegend&&(f.render(),r(f,d(f)))}function g(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;
b++}return-1}function d(a){a=a.allItems;var b=[],c=a.length,d,e=0;for(d=0;d<c;d++){var g=a[d].legendItem||{};var k=(a[d+1]||{}).legendItem||{};g.labelHeight&&(a[d].itemHeight=g.labelHeight);if(a[d]===a[c-1]||g.y!==k.y){b.push({height:0});g=b[b.length-1];for(e;e<=d;e++)a[e].itemHeight>g.height&&(g.height=a[e].itemHeight);g.step=d}}return b}function y(a){var b=this.bubbleLegend,c=this.options,d=c.bubbleLegend,e=g(this.chart);b&&b.ranges&&b.ranges.length&&(d.ranges.length&&(d.autoRanges=!!d.ranges[0].autoRanges),
this.destroyItem(b));0<=e&&c.enabled&&d.enabled&&(d.seriesIndex=e,this.bubbleLegend=new h(d,this),this.bubbleLegend.addToLegend(a.allItems))}function v(a){if(a.defaultPrevented)return!1;var b=this.chart;a=this.visible;var c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,b=0<=g(b),c.bubbleLegend.visible!==b&&(c.update({bubbleLegend:{enabled:b}}),c.bubbleLegend.visible=b),this.visible=a)}function r(a,b){var c=a.options.rtl,d,e,f,g,k=0;a.allItems.forEach(function(a,h){g=a.legendItem||
{};if(g.group){d=g.group.translateX||0;e=g.y||0;if((f=a.movementX)||c&&a.ranges)f=c?d-a.options.maxSize/2:d+f,g.group.attr({translateX:f});h>b[k].step&&k++;g.group.attr({translateY:Math.round(e+b[k].height/2)});g.y=e+b[k].height/2}})}var k=q.setOptions,b=n.addEvent,a=n.objectEach,e=n.wrap,l=[];return{compose:function(a,d,g){n.pushUnique(l,a)&&(k({legend:{bubbleLegend:c}}),e(a.prototype,"drawChartBox",p));n.pushUnique(l,d)&&b(d,"afterGetAllItems",y);n.pushUnique(l,g)&&b(g,"legendItemClick",v)}}});
z(c,"Series/Bubble/BubblePoint.js",[c["Core/Series/Point.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q){var n=this&&this.__extends||function(){var c=function(g,d){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])};return c(g,d)};return function(g,d){function h(){this.constructor=g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+
String(d)+" is not a constructor or null");c(g,d);g.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}();q=q.extend;h=function(h){function g(){var c=null!==h&&h.apply(this,arguments)||this;c.options=void 0;c.series=void 0;return c}n(g,h);g.prototype.haloPath=function(d){return c.prototype.haloPath.call(this,0===d?0:(this.marker?this.marker.radius||0:0)+d)};return g}(h.seriesTypes.scatter.prototype.pointClass);q(h.prototype,{ttBelow:!1});return h});z(c,"Series/Bubble/BubbleSeries.js",
[c["Series/Bubble/BubbleLegendComposition.js"],c["Series/Bubble/BubblePoint.js"],c["Core/Color/Color.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q,n,p,g){function d(){var a=this,b=this.len,c=this.chart,d=this.isXAxis,e=d?"xData":"yData",g=this.min,k=this.max-g,h=0,l=b,r=b/k,n;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){n=a.allowZoomOutside=!0;var t=b[e];d&&((b.onPoint||b).getRadii(0,0,b),
b.onPoint&&(b.radii=b.onPoint.radii));if(0<k)for(var m=t.length;m--;)if(f(t[m])&&a.dataMin<=t[m]&&t[m]<=a.max){var p=b.radii&&b.radii[m]||0;h=Math.min((t[m]-g)*r-p,h);l=Math.max((t[m]-g)*r+p,l)}}});n&&0<k&&!this.logarithmic&&(l-=b,r*=(b+Math.max(0,h)-Math.min(l,b))/b,[["min","userMin",h],["max","userMax",l]].forEach(function(b){"undefined"===typeof m(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/r)}))}var y=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),v=q.parse;q=n.noop;var r=p.series,k=p.seriesTypes;n=k.column.prototype;var b=k.scatter;k=g.addEvent;var a=g.arrayMax,
e=g.arrayMin,l=g.clamp,u=g.extend,f=g.isNumber,x=g.merge,m=g.pick,z=[],A=function(k){function h(){var a=null!==k&&k.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}y(h,k);h.compose=function(a,b,e,f){c.compose(b,e,f);g.pushUnique(z,a)&&(a.prototype.beforePadding=d)};h.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=
a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},this)};h.prototype.getRadii=function(){var a=this,b=this.zData,c=this.yData,d=[],e=this.chart.bubbleZExtremes;var f=this.getPxExtremes();var g=f.minPxSize,k=f.maxPxSize;if(!e){var h=Number.MAX_VALUE,t=-Number.MAX_VALUE,l;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&
(h=Math.min(m(h,b.zMin),b.zMin),t=Math.max(m(t,b.zMax),b.zMax),l=!0)});l?(e={zMin:h,zMax:t},this.chart.bubbleZExtremes=e):e={zMin:0,zMax:0}}var r=0;for(f=b.length;r<f;r++){var n=b[r];d.push(this.getRadius(e.zMin,e.zMax,g,k,n,c&&c[r]))}this.radii=d};h.prototype.getRadius=function(a,b,c,d,e,g){var k=this.options,h="width"!==k.sizeBy,t=k.zThreshold,l=b-a,m=.5;if(null===g||null===e)return null;if(f(e)){k.sizeByAbsoluteValue&&(e=Math.abs(e-t),l=Math.max(b-t,Math.abs(a-t)),a=0);if(e<a)return c/2-1;0<l&&
(m=(e-a)/l)}h&&0<=m&&(m=Math.sqrt(m));return Math.ceil(c+m*(d-c))/2};h.prototype.hasData=function(){return!!this.processedXData.length};h.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=r.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=v(a.fill).setOpacity(c).get("rgba"));return a};h.prototype.translate=function(){k.prototype.translate.call(this);this.getRadii();this.translateBubble()};h.prototype.translateBubble=function(){for(var a=this.data,b=this.options,c=this.radii,
d=this.getPxExtremes().minPxSize,e=a.length;e--;){var g=a[e],k=c?c[e]:0;"z"===this.zoneAxis&&(g.negative=(g.z||0)<(b.zThreshold||0));f(k)&&k>=d/2?(g.marker=u(g.marker,{radius:k,width:2*k,height:2*k}),g.dlBox={x:g.plotX-k,y:g.plotY-k,width:2*k,height:2*k}):(g.shapeArgs=g.plotY=g.dlBox=void 0,g.isInside=!1)}};h.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,10)}return c?a*b/100:b},c=
b(m(this.options.minSize,8));b=Math.max(b(m(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};h.prototype.getZExtremes=function(){var b=this.options,c=(this.zData||[]).filter(f);if(c.length){var d=m(b.zMin,l(e(c),!1===b.displayNegative?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));b=m(b.zMax,a(c));if(f(d)&&f(b))return{zMin:d,zMax:b}}};h.defaultOptions=x(b.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return f(b)?a(b,-1):
""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return h}(b);u(A.prototype,{alignDataLabel:n.alignDataLabel,applyZones:q,bubblePadding:!0,buildKDTree:q,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],
pointClass:h,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});k(A,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});k(A,"remove",function(a){delete a.target.chart.bubbleZExtremes});p.registerSeriesType("bubble",A);"";"";return A});z(c,"Series/MapBubble/MapBubblePoint.js",[c["Series/Bubble/BubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q){var n=this&&this.__extends||function(){var c=
function(g,d){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])};return c(g,d)};return function(g,d){function h(){this.constructor=g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(g,d);g.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}}();h=h.seriesTypes.map.prototype.pointClass.prototype;
q=q.extend;c=function(c){function g(){return null!==c&&c.apply(this,arguments)||this}n(g,c);g.prototype.isValid=function(){return"number"===typeof this.z};return g}(c);q(c.prototype,{applyOptions:h.applyOptions,getProjectedBounds:h.getProjectedBounds});return c});z(c,"Series/MapBubble/MapBubbleSeries.js",[c["Series/Bubble/BubbleSeries.js"],c["Series/MapBubble/MapBubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h,q,n){var p=this&&this.__extends||function(){var c=
function(d,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return c(d,b)};return function(d,b){function a(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");c(d,b);d.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),g=q.seriesTypes,d=g.map.prototype,y=g.mappoint.prototype;
g=n.extend;var v=n.merge;n=function(g){function k(){var b=null!==g&&g.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;b.clearBounds=d.clearBounds;return b}p(k,g);k.prototype.searchPoint=function(b,a){return this.searchKDTree({clientX:b.chartX-this.chart.plotLeft,plotY:b.chartY-this.chart.plotTop},a,b)};k.prototype.translate=function(){y.translate.call(this);this.getRadii();this.translateBubble()};k.prototype.updateParallelArrays=function(b,a,c){g.prototype.updateParallelArrays.call(this,
b,a,c);b=this.processedXData;a=this.xData;b&&a&&(b.length=a.length)};k.defaultOptions=v(c.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});return k}(c);g(n.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:d.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:h,processData:d.processData,projectPoint:y.projectPoint,setData:d.setData,setOptions:d.setOptions,updateData:d.updateData,useMapGeometry:!0,xyFromShape:!0});
q.registerSeriesType("mapbubble",n);"";return n});z(c,"Series/Heatmap/HeatmapPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,h){var q=this&&this.__extends||function(){var c=function(d,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a])};return c(d,g)};return function(d,g){function k(){this.constructor=d}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+
String(g)+" is not a constructor or null");c(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}(),n=h.clamp,p=h.defined,g=h.extend,d=h.pick;c=function(c){function g(){var d=null!==c&&c.apply(this,arguments)||this;d.options=void 0;d.series=void 0;d.value=void 0;d.x=void 0;d.y=void 0;return d}q(g,c);g.prototype.applyOptions=function(d,g){(this.isNull||null===this.value)&&delete this.color;c.prototype.applyOptions.call(this,d,g);this.formatPrefix=this.isNull||null===this.value?
"null":"point";return this};g.prototype.getCellAttributes=function(){var c=this.series,g=c.options,b=(g.colsize||1)/2,a=(g.rowsize||1)/2,e=c.xAxis,h=c.yAxis,q=this.options.marker||c.options.marker;c=c.pointPlacementToXValue();var f=d(this.pointPadding,g.pointPadding,0),v={x1:n(Math.round(e.len-e.translate(this.x-b,!1,!0,!1,!0,-c)),-e.len,2*e.len),x2:n(Math.round(e.len-e.translate(this.x+b,!1,!0,!1,!0,-c)),-e.len,2*e.len),y1:n(Math.round(h.translate(this.y-a,!1,!0,!1,!0)),-h.len,2*h.len),y2:n(Math.round(h.translate(this.y+
a,!1,!0,!1,!0)),-h.len,2*h.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",g=Math.abs(v[c]-v[d]),k=q&&q.lineWidth||0,l=Math.abs(v[c]+v[d])/2;b=q&&q[b];p(b)&&b<g&&(b=b/2+k/2,v[c]=l-b,v[d]=l+b);if(f){if("x"===a&&e.reversed||"y"===a&&!h.reversed)c=d,d=a+"1";v[c]+=f;v[d]-=f}});return v};g.prototype.haloPath=function(c){if(!c)return[];var d=this.shapeArgs||{},b=d.x;b=void 0===b?0:b;var a=d.y;a=void 0===a?0:a;var e=d.width;e=void 0===e?0:e;d=d.height;d=void 0===
d?0:d;return[["M",b-c,a-c],["L",b-c,a+d+c],["L",b+e+c,a+d+c],["L",b+e+c,a-c],["Z"]]};g.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return g}(c.seriesTypes.scatter.prototype.pointClass);g(c.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return c});z(c,"Series/Heatmap/HeatmapSeries.js",[c["Core/Color/Color.js"],c["Series/ColorMapComposition.js"],c["Core/Globals.js"],c["Series/Heatmap/HeatmapPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],
c["Core/Utilities.js"]],function(c,h,q,n,p,g,d){var y=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):
(d.prototype=c.prototype,new d)}}(),v=this&&this.__assign||function(){v=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return v.apply(this,arguments)},r=q.doc,k=p.series,b=p.seriesTypes;q=b.column;var a=b.scatter,e=g.prototype.symbols,l=d.clamp;g=d.extend;var u=d.fireEvent,f=d.isNumber,x=d.merge,m=d.pick,z=d.defined;d=function(b){function d(){var a=null!==b&&b.apply(this,arguments)||
this;a.canvas=void 0;a.colorAxis=void 0;a.context=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}y(d,b);d.prototype.drawPoints=function(){var a=this,b=a.options,c=b.marker||{};if(b.interpolation){c=a.image;var d=a.chart,e=a.xAxis,f=a.yAxis,g=a.points,h=g.length-1,n=e.len,p=e.reversed,q=f.len,r=f.reversed,u=e.getExtremes(),x=u.min,y=u.max;f=f.getExtremes();var A=f.min,M=f.max;b=[m(b.colsize,1),m(b.rowsize,1)];f=b[0];u=b[1];var C=d.inverted,D=f/2;b=e.userOptions.minPadding;
var F=z(b)&&!(0<b);b=C||F;D=F&&D||0;D=[x-D,y+2*D,x+f].map(function(b){return l(Math.round(e.len-e.translate(b,!1,!0,!1,!0,-a.pointPlacementToXValue())),-e.len,2*e.len)});F=D[0];var H=D[1];H=p?[H,F]:[F,H];F=H[0];H=H[1];D=n/D[2]/2/2/2;n=C?{width:n,height:q,x:0,y:0}:{x:F-D,width:H-D,height:q,y:0};if(!c||a.isDirtyData){var G=d.colorAxis&&d.colorAxis[0];q=a.getContext();if((C=a.canvas)&&q&&G){var L=C.width=~~((y-x)/f)+1;f=C.height=~~((M-A)/u)+1;u=L*f;D=new Uint8ClampedArray(4*u);var Q=L-(b&&1||0),R=f-
1;b=function(a){a=G.toColor(a.value||0,m(a)).split(")")[0].split("(")[1].split(",").map(function(a){return m(parseFloat(a),parseInt(a,10))});a[3]=255*m(a[3],1);return a};var S=p?function(a){return Q-a}:function(a){return a},T=r?function(a){return R-a}:function(a){return a};p=function(a,b){return Math.ceil(L*T(~~((R-0)/(M-A)*(M-b-A)))+S(~~((Q-0)/(y-x)*(a-x))))};a.buildKDTree();a.directTouch=!1;for(r=0;r<u;r++)F=g[~~((h-0)/(D.length-4)*r*4)],H=new Uint8ClampedArray(b(F)),D.set(H,4*p(F.x,F.y));q.putImageData(new ImageData(D,
L,f),0,0);c?c.attr(v(v({},n),{href:C.toDataURL()})):a.image=d.renderer.image(C.toDataURL()).attr(n).add(a.group)}}else c.width===n.width&&c.height===n.height||c.attr(n)}else if(c.enabled||a._hasPointMarkers)k.prototype.drawPoints.call(a),a.points.forEach(function(b){b.graphic&&(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};d.prototype.getContext=function(){var a=this.canvas,b=this.context;if(a&&b)b.clearRect(0,0,a.width,
a.height);else return this.canvas=r.createElement("canvas"),this.context=this.canvas.getContext("2d")||void 0;return b};d.prototype.getExtremes=function(){var a=k.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;f(b)&&(this.valueMin=b);f(a)&&(this.valueMax=a);return k.prototype.getExtremes.call(this)};d.prototype.getValidPoints=function(a,b){return k.prototype.getValidPoints.call(this,a,b,!0)};d.prototype.hasData=function(){return!!this.processedXData.length};d.prototype.init=
function(){b.prototype.init.apply(this,arguments);var a=this.options;a.pointRange=m(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;e.ellipse=e.circle;a.marker&&f(a.borderRadius)&&(a.marker.r=a.borderRadius)};d.prototype.markerAttribs=function(a,b){var c=a.shapeArgs||{};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b&&"normal"!==b){var d=a.options.marker||{};a=this.options.marker||{};a=a.states&&a.states[b]||{};d=d.states&&d.states[b]||{};b=(d.width||a.width||c.width||0)+(d.widthPlus||
a.widthPlus||0);a=(d.height||a.height||c.height||0)+(d.heightPlus||a.heightPlus||0);return{x:(c.x||0)+((c.width||0)-b)/2,y:(c.y||0)+((c.height||0)-a)/2,width:b,height:a}}return c};d.prototype.pointAttribs=function(a,b){var d=k.prototype.pointAttribs.call(this,a,b),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];
d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;d["stroke-width"]=g;b&&"normal"!==b&&(a=x(e.states&&e.states[b],e.marker&&e.marker.states&&e.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),d.fill=a.color||c.parse(d.fill).brighten(a.brightness||0).get(),d.stroke=a.lineColor||d.stroke);return d};d.prototype.translate=function(){var a=this.options,b=a.borderRadius,c=(a=a.marker)&&a.symbol||"rect",d=e[c]?c:"rect",g=-1!==["circle","square"].indexOf(d);
this.generatePoints();this.points.forEach(function(a){var h=a.getCellAttributes(),k=Math.min(h.x1,h.x2),l=Math.min(h.y1,h.y2),m=Math.max(Math.abs(h.x2-h.x1),0),n=Math.max(Math.abs(h.y2-h.y1),0);a.hasImage=0===(a.marker&&a.marker.symbol||c||"").indexOf("url");g&&(l=Math.abs(m-n),k=Math.min(h.x1,h.x2)+(m<n?0:l/2),l=Math.min(h.y1,h.y2)+(m<n?l/2:0),m=n=Math.min(m,n));a.hasImage&&(a.marker={width:m,height:n});a.plotX=a.clientX=(h.x1+h.x2)/2;a.plotY=(h.y1+h.y2)/2;a.shapeType="path";a.shapeArgs=x(!0,{x:k,
y:l,width:m,height:n},{d:e[d](k,l,m,n,{r:f(b)?b:0})})});u(this,"afterTranslate")};d.defaultOptions=x(a.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return f(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},
states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"});return d}(a);g(d.prototype,{axisTypes:h.seriesMembers.axisTypes,colorKey:h.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:h.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:n,specialGroup:"group",trackerGroups:h.seriesMembers.trackerGroups,alignDataLabel:q.prototype.alignDataLabel,colorAttribs:h.seriesMembers.colorAttribs,getSymbol:k.prototype.getSymbol});h.compose(d);p.registerSeriesType("heatmap",
d);"";"";return d});z(c,"masters/modules/map.src.js",[c["Core/Globals.js"],c["Core/Axis/Color/ColorAxis.js"],c["Series/MapBubble/MapBubbleSeries.js"],c["Core/Chart/MapChart.js"],c["Maps/MapView.js"],c["Maps/Projection.js"]],function(c,h,q,n,p,g){c.ColorAxis=h;c.MapChart=n;c.mapChart=c.Map=n.mapChart;c.MapView=p;c.maps=n.maps;c.Projection=g;h.compose(c.Chart,c.Fx,c.Legend,c.Series);q.compose(c.Axis,c.Chart,c.Legend,c.Series)})});
//# sourceMappingURL=map.js.map