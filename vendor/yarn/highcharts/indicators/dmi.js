/*
 Highstock JS v11.1.0 (2023-06-05)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Rafal Sebestjanski

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/dmi",["highcharts","highcharts/modules/stock"],function(e){a(e);a.Highcharts=e;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function e(a,g,l,e){a.hasOwnProperty(g)||(a[g]=e.apply(null,l),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,
module:a[g]}})))}a=a?a._modules:{};e(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,g){const {sma:{prototype:l}}=a.seriesTypes,{defined:e,error:u,merge:x}=g;var p;(function(a){function t(b){return"plot"+b.charAt(0).toUpperCase()+b.slice(1)}function d(b,c){const d=[];(b.pointArrayMap||[]).forEach(b=>{b!==c&&d.push(t(b))});return d}function f(){const b=this,c=b.linesApiNames;var h=b.areaLinesNames;const a=b.points,f=b.options,
v=b.graph,g={options:{gapSize:f.gapSize}},k=[];var m=d(b,b.pointValKey);let w=a.length,n;m.forEach((b,c)=>{for(k[c]=[];w--;)n=a[w],k[c].push({x:n.x,plotX:n.plotX,plotY:n[b],isNull:!e(n[b])});w=a.length});if(b.userOptions.fillColor&&h.length){var p=m.indexOf(t(h[0]));p=k[p];h=1===h.length?a:k[m.indexOf(t(h[1]))];m=b.color;b.points=h;b.nextPoints=p;b.color=b.userOptions.fillColor;b.options=x(a,g);b.graph=b.area;b.fillGraph=!0;l.drawGraph.call(b);b.area=b.graph;delete b.nextPoints;delete b.fillGraph;
b.color=m}c.forEach((c,d)=>{k[d]?(b.points=k[d],f[c]?b.options=x(f[c].styles,g):u('Error: "There is no '+c+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),b.graph=b["graph"+c],l.drawGraph.call(b),b["graph"+c]=b.graph):u('Error: "'+c+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});b.points=a;b.options=f;b.graph=v;l.drawGraph.call(b)}function v(b){var c;let d=[];b=b||this.points;if(this.fillGraph&&
this.nextPoints){if((c=l.getGraphPath.call(this,this.nextPoints))&&c.length){c[0][0]="L";d=l.getGraphPath.call(this,b);c=c.slice(0,d.length);for(let b=c.length-1;0<=b;b--)d.push(c[b])}}else d=l.getGraphPath.apply(this,arguments);return d}function z(b){const c=[];(this.pointArrayMap||[]).forEach(d=>{c.push(b[d])});return c}function w(){const b=this.pointArrayMap;let c=[],a;c=d(this);l.translate.apply(this,arguments);this.points.forEach(d=>{b.forEach((b,f)=>{a=d[b];this.dataModify&&(a=this.dataModify.modifyValue(a));
null!==a&&(d[c[f]]=this.yAxis.toPixels(a,!0))})})}const n=[],p=["bottomLine"],k=["top","bottom"],m=["top"];a.compose=function(b){if(g.pushUnique(n,b)){const c=b.prototype;c.linesApiNames=c.linesApiNames||p.slice();c.pointArrayMap=c.pointArrayMap||k.slice();c.pointValKey=c.pointValKey||"top";c.areaLinesNames=c.areaLinesNames||m.slice();c.drawGraph=f;c.getGraphPath=v;c.toYData=z;c.translate=w}return b}})(p||(p={}));return p});e(a,"Stock/Indicators/DMI/DMIIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,g,l){const {sma:e}=g.seriesTypes,{correctFloat:u,extend:x,isArray:p,merge:y}=l;class t extends e{constructor(){super(...arguments);this.options=void 0}calculateDM(d,a,v){const f=d[a][1],e=d[a][2],n=d[a-1][1];d=d[a-1][2];return u(f-n>d-e?v?Math.max(f-n,0):0:v?0:Math.max(d-e,0))}calculateDI(d,a){return d/a*100}calculateDX(d,a){return u(Math.abs(d-a)/Math.abs(d+a)*100)}smoothValues(d,a,e){return u(d-d/e+a)}getTR(d,a){return u(Math.max(d[1]-
d[2],a?Math.abs(d[1]-a[3]):0,a?Math.abs(d[2]-a[3]):0))}getValues(a,f){f=f.period;const d=a.xData,e=(a=a.yData)?a.length:0,g=[],n=[],l=[];if(!(d.length<=f)&&p(a[0])&&4===a[0].length){var k=0,m=0,b=0,c;for(c=1;c<e;c++){var h=void 0,q=void 0,r=void 0;c<=f?(h=this.calculateDM(a,c,!0),q=this.calculateDM(a,c),r=this.getTR(a[c],a[c-1]),k+=h,m+=q,b+=r,c===f&&(r=this.calculateDI(k,b),q=this.calculateDI(m,b),h=this.calculateDX(k,m),g.push([d[c],h,r,q]),n.push(d[c]),l.push([h,r,q]))):(h=this.calculateDM(a,c,
!0),q=this.calculateDM(a,c),r=this.getTR(a[c],a[c-1]),k=this.smoothValues(k,h,f),m=this.smoothValues(m,q,f),b=this.smoothValues(b,r,f),r=this.calculateDI(k,b),q=this.calculateDI(m,b),h=this.calculateDX(k,m),g.push([d[c],h,r,q]),n.push(d[c]),l.push([h,r,q]))}return{values:g,xData:n,yData:l}}}}t.defaultOptions=y(e.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">\u25cf</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},
plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}});x(t.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"});a.compose(t);g.registerSeriesType("dmi",t);"";return t});e(a,"masters/indicators/dmi.src.js",[],function(){})});
//# sourceMappingURL=dmi.js.map