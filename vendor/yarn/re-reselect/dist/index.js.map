{"version":3,"file":"index.js","sources":["../src/cache/util/isStringOrNumber.js","../src/cache/FlatObjectCache.js","../src/createCachedSelector.js","../src/createStructuredCachedSelector.js","../src/cache/util/validateCacheSize.js","../src/cache/FifoObjectCache.js","../src/cache/LruObjectCache.js","../src/cache/FlatMapCache.js","../src/cache/FifoMapCache.js","../src/cache/LruMapCache.js"],"sourcesContent":["function isStringOrNumber(value) {\n  return typeof value === 'string' || typeof value === 'number';\n}\n\nexport default isStringOrNumber;\n","import isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FlatObjectCache {\n  constructor() {\n    this._cache = {};\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import {createSelector} from 'reselect';\nimport FlatObjectCache from './cache/FlatObjectCache';\n\nconst defaultCacheCreator = FlatObjectCache;\nconst defaultCacheKeyValidator = () => true;\n\nfunction createCachedSelector(...funcs) {\n  return (polymorphicOptions, legacyOptions) => {\n    // @NOTE Versions 0.x/1.x accepted \"options\" as a function\n    if (typeof legacyOptions === 'function') {\n      throw new Error(\n        '[re-reselect] Second argument \"options\" must be an object. Please use \"options.selectorCreator\" to provide a custom selectorCreator.'\n      );\n    }\n\n    const options = {};\n    if (typeof polymorphicOptions === 'function') {\n      Object.assign(options, legacyOptions, {keySelector: polymorphicOptions});\n      // @TODO add legacyOptions deprecation notice in next major release\n    } else {\n      Object.assign(options, polymorphicOptions);\n    }\n\n    // https://github.com/reduxjs/reselect/blob/v4.0.0/src/index.js#L54\n    let recomputations = 0;\n    const resultFunc = funcs.pop();\n    const dependencies = Array.isArray(funcs[0]) ? funcs[0] : [...funcs];\n\n    const resultFuncWithRecomputations = (...args) => {\n      recomputations++;\n      return resultFunc(...args);\n    };\n    funcs.push(resultFuncWithRecomputations);\n\n    const cache = options.cacheObject || new defaultCacheCreator();\n    const selectorCreator = options.selectorCreator || createSelector;\n    const isValidCacheKey = cache.isValidCacheKey || defaultCacheKeyValidator;\n\n    if (options.keySelectorCreator) {\n      options.keySelector = options.keySelectorCreator({\n        keySelector: options.keySelector,\n        inputSelectors: dependencies,\n        resultFunc,\n      });\n    }\n\n    // Application receives this function\n    const selector = function(...args) {\n      const cacheKey = options.keySelector(...args);\n\n      if (isValidCacheKey(cacheKey)) {\n        let cacheResponse = cache.get(cacheKey);\n\n        if (cacheResponse === undefined) {\n          cacheResponse = selectorCreator(...funcs);\n          cache.set(cacheKey, cacheResponse);\n        }\n\n        return cacheResponse(...args);\n      }\n      console.warn(\n        `[re-reselect] Invalid cache key \"${cacheKey}\" has been returned by keySelector function.`\n      );\n      return undefined;\n    };\n\n    // Further selector methods\n    selector.getMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      // @NOTE It might update cache hit count in LRU-like caches\n      return cache.get(cacheKey);\n    };\n\n    selector.removeMatchingSelector = (...args) => {\n      const cacheKey = options.keySelector(...args);\n      cache.remove(cacheKey);\n    };\n\n    selector.clearCache = () => {\n      cache.clear();\n    };\n\n    selector.resultFunc = resultFunc;\n\n    selector.dependencies = dependencies;\n\n    selector.cache = cache;\n\n    selector.recomputations = () => recomputations;\n\n    selector.resetRecomputations = () => (recomputations = 0);\n\n    selector.keySelector = options.keySelector;\n\n    return selector;\n  };\n}\n\nexport default createCachedSelector;\n","import {createStructuredSelector} from 'reselect';\nimport createCachedSelector from './createCachedSelector';\n\nfunction createStructuredCachedSelector(selectors) {\n  return createStructuredSelector(selectors, createCachedSelector);\n}\n\nexport default createStructuredCachedSelector;\n","function validateCacheSize(cacheSize) {\n  if (cacheSize === undefined) {\n    throw new Error('Missing the required property \"cacheSize\".');\n  }\n  if (!Number.isInteger(cacheSize) || cacheSize <= 0) {\n    throw new Error(\n      'The \"cacheSize\" property must be a positive integer value.'\n    );\n  }\n}\n\nexport default validateCacheSize;\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class FifoObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._cacheOrdering.push(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache[key];\n  }\n  remove(key) {\n    const index = this._cacheOrdering.indexOf(key);\n\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\nimport isStringOrNumber from './util/isStringOrNumber';\n\nexport default class LruObjectCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = {};\n    this._cacheOrdering = [];\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache[key] = selectorFn;\n    this._registerCacheHit(key);\n\n    if (this._cacheOrdering.length > this._cacheSize) {\n      const earliest = this._cacheOrdering[0];\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    this._registerCacheHit(key);\n    return this._cache[key];\n  }\n  remove(key) {\n    this._deleteCacheHit(key);\n    delete this._cache[key];\n  }\n  clear() {\n    this._cache = {};\n    this._cacheOrdering = [];\n  }\n  _registerCacheHit(key) {\n    this._deleteCacheHit(key);\n    this._cacheOrdering.push(key);\n  }\n  _deleteCacheHit(key) {\n    const index = this._cacheOrdering.indexOf(key);\n    if (index > -1) {\n      this._cacheOrdering.splice(index, 1);\n    }\n  }\n  isValidCacheKey(cacheKey) {\n    return isStringOrNumber(cacheKey);\n  }\n}\n","export default class FlatMapCache {\n  constructor() {\n    this._cache = new Map();\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class FifoMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    return this._cache.get(key);\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n","import validateCacheSize from './util/validateCacheSize';\n\nexport default class LruMapCache {\n  constructor({cacheSize} = {}) {\n    validateCacheSize(cacheSize);\n    this._cache = new Map();\n    this._cacheSize = cacheSize;\n  }\n  set(key, selectorFn) {\n    this._cache.set(key, selectorFn);\n\n    if (this._cache.size > this._cacheSize) {\n      const earliest = this._cache.keys().next().value;\n      this.remove(earliest);\n    }\n  }\n  get(key) {\n    const value = this._cache.get(key);\n\n    // Register cache hit\n    if (this._cache.has(key)) {\n      this.remove(key);\n      this._cache.set(key, value);\n    }\n    return value;\n  }\n  remove(key) {\n    this._cache.delete(key);\n  }\n  clear() {\n    this._cache.clear();\n  }\n}\n"],"names":["isStringOrNumber","value","FlatObjectCache","_cache","set","key","selectorFn","get","remove","clear","isValidCacheKey","cacheKey","defaultCacheCreator","defaultCacheKeyValidator","createCachedSelector","funcs","polymorphicOptions","legacyOptions","Error","options","Object","assign","keySelector","recomputations","resultFunc","pop","dependencies","Array","isArray","resultFuncWithRecomputations","push","cache","cacheObject","selectorCreator","createSelector","keySelectorCreator","inputSelectors","selector","cacheResponse","undefined","console","warn","getMatchingSelector","removeMatchingSelector","clearCache","resetRecomputations","createStructuredCachedSelector","selectors","createStructuredSelector","validateCacheSize","cacheSize","Number","isInteger","FifoObjectCache","_cacheOrdering","_cacheSize","length","earliest","index","indexOf","splice","LruObjectCache","_registerCacheHit","_deleteCacheHit","FlatMapCache","Map","FifoMapCache","size","keys","next","LruMapCache","has"],"mappings":"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"}