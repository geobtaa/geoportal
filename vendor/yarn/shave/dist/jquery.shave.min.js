!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function q(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function n(e,t,n){if(void 0===n&&(n={}),void 0===t||isNaN(t))throw Error("maxHeight is required");var i="string"==typeof(e=e)?q([],N(document.querySelectorAll(e)),!1):"length"in e?q([],N(e),!1):[e];if(i.length)for(var e=n.character,o=void 0===e?"â€¦":e,e=n.classname,r=void 0===e?"js-shave":e,e=n.spaces,e=void 0===e||e,a=n.charclassname,l=void 0===a?"js-shave-char":a,a=n.link,c=void 0===a?{}:a,s="boolean"!=typeof e||e,f=c&&"{}"!==JSON.stringify(c)&&c.href,d=f?"a":"span",h=0;h<i.length;h+=1){var u=i[h],v=u.style,y=u.querySelector("."+r),m=void 0===u.textContent?"innerText":"textContent",y=(y&&(u.removeChild(u.querySelector("."+l)),u[m]=u[m]),u[m]),g=s?y.split(" "):y;if(!(g.length<2)){var y=v.height,p=(v.height="auto",v.maxHeight);if(v.maxHeight="none",!(u.offsetHeight<=t)){var x,w=f&&c.textContent?c.textContent:o,j=document.createElement(d),C={className:l,textContent:w};for(x in C)j[x]=C[x],j.textContent=o;if(f)for(var b in c)j[b]=c[b];for(var A,E=g.length-1,H=0;H<E;)A=H+E+1>>1,u[m]=s?g.slice(0,A).join(" "):g.slice(0,A),u.insertAdjacentElement("beforeend",j),u.offsetHeight>t?E=A-1:H=A;u[m]=s?g.slice(0,E).join(" "):g.slice(0,E),u.insertAdjacentElement("beforeend",j);var w=s?" ".concat(g.slice(E).join(" ")):g.slice(E),w=document.createTextNode(w),S=document.createElement("span");S.classList.add(r),S.style.display="none",S.appendChild(w),u.insertAdjacentElement("beforeend",S)}v.height=y,v.maxHeight=p}}}var e;"undefined"!=typeof window&&(e=window.$||window.jQuery||window.Zepto)&&(e.fn.shave=function(e,t){return n(this,e,t),this})});
